/* empty css                   */import{_ as L,g,c as d,o as r,b as s,h as m,l as f,i,t as c,n as k,Q as R,q as u,F as _,w as A,j as I,v as U,s as y,f as w}from"./app-BFj7m03g.js";import{C as V}from"./vue-select.es-BNcijLkH.js";import{A as F}from"./AdminMobileNav-DI3t1v3n.js";const T={components:{vSelect:V,AdminMobileNav:F},data(){return{errors:{},fetchRequests:[],userBalance:0,balanceLoading:!1,fields:[{key:"amount",label:"Amount",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"request_by",label:"User Name",formatter:(t,e,n)=>{var p;return((p=n.requester)==null?void 0:p.name)||"N/A"}},{key:"request_create_for",label:"Recipient",formatter:(t,e,n)=>n.recipient.name},{key:"created_at",label:"Request Date",sortable:!0,formatter:t=>new Date(t).toLocaleString()},{key:"image_path",label:"Receipt"},{key:"actions",label:"Actions"}],requestData:{amount:"",image:null,request_create_for:null,image_path:null},showRequestModal:!1,showImageModal:!1,showRejectModal:!1,isEdit:!1,loading:!1,successMessage:"",totalrows:0,sortBy:"",sortDesc:!0,modalLoading:!1,editmodalLoading:!1,imagePreviewUrl:"",currentEditId:null,currentRequestToReject:null,rejectReason:"",isAdmin:!1,currentUserId:null,primaryPaymentDetails:null,primaryPaymentLoading:!1,showBarcodeModal:!1}},computed:{rangeStart(){return this.totalrows===0?0:(this.currentPage-1)*this.perPage+1},rangeEnd(){return this.currentPage*this.perPage>=this.totalrows?this.totalrows:this.currentPage*this.perPage},tableFields(){return[{key:"amount",label:"Amount",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"request_by",label:"User Name",sortable:!0,formatter:(t,e,n)=>{var p;return((p=n.requester)==null?void 0:p.name)||"N/A"}},{key:"created_at",label:"Request Date",sortable:!0},{key:"image_path",label:"Receipt"},{key:"actions",label:"Actions"}]}},setup(){const t=w(1),e=w(10);return{currentPage:t,perPage:e,perPageOptions:[10,25,50,100]}},mounted(){this.fetchUserInfo(),this.fetchRequestss(),this.fetchUserBalance(),this.fetchPrimaryPaymentDetails(),console.log("ðŸš¨ Component mounted, initial stats:",{totalRequests:this.totalRequests,pendingRequests:this.pendingRequests,approvedRequests:this.approvedRequests,rejectedRequests:this.rejectedRequests})},watch:{fetchRequests:{handler(t){console.log("ðŸš¨ fetchRequests changed:",t),console.log("ðŸš¨ Length:",t?t.length:0)},immediate:!0}},methods:{fetchUserInfo(){y.get("/user-info").then(t=>{this.isAdmin=t.data.is_admin,this.currentUserId=t.data.id}).catch(t=>{console.error(t)})},async fetchUserBalance(){this.balanceLoading=!0;try{const t=JSON.parse(localStorage.getItem("userData"));if(t&&t.id){const e=await y.post("/total_b",{id:t.id});e.data&&e.data.total_balance!==void 0&&(this.userBalance=e.data.total_balance,t.total_balance=e.data.total_balance,localStorage.setItem("userData",JSON.stringify(t)))}}catch(t){console.error("Error fetching balance:",t);const e=JSON.parse(localStorage.getItem("userData"));e&&e.total_balance!==void 0&&(this.userBalance=e.total_balance)}finally{this.balanceLoading=!1}},fetchPrimaryPaymentDetails(){this.primaryPaymentLoading=!0,y.get("/payment-collector/primary").then(t=>{t.data.success&&(this.primaryPaymentDetails=t.data.data)}).catch(t=>{console.error("Error fetching primary payment details:",t)}).finally(()=>{this.primaryPaymentLoading=!1})},openBarcodeModal(){console.log("Opening barcode modal..."),this.showBarcodeModal=!0,console.log("showBarcodeModal value:",this.showBarcodeModal)},copyToClipboard(t,e){navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(t).then(()=>{this.showCopySuccess(e)}).catch(n=>{console.error("Failed to copy: ",n),this.fallbackCopyToClipboard(t,e)}):this.fallbackCopyToClipboard(t,e)},fallbackCopyToClipboard(t,e){const n=document.createElement("textarea");n.value=t,n.style.position="fixed",n.style.left="-999999px",n.style.top="-999999px",document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy"),this.showCopySuccess(e)}catch(p){console.error("Fallback copy failed: ",p),this.showCopyError(e)}document.body.removeChild(n)},showCopySuccess(t){this.$bvToast.toast(`${t} copied to clipboard!`,{title:"Success",variant:"success",solid:!0,autoHideDelay:2e3,appendToast:!0})},showCopyError(t){this.$bvToast.toast(`Failed to copy ${t}`,{title:"Error",variant:"danger",solid:!0,autoHideDelay:3e3,appendToast:!0})},downloadBarcode(){var t;if((t=this.primaryPaymentDetails)!=null&&t.barcode_image){const e=document.createElement("a");e.href=`/storage/${this.primaryPaymentDetails.barcode_image}`,e.download="payment-barcode.png",document.body.appendChild(e),e.click(),document.body.removeChild(e)}},formatBalance(t){return t==null?"0.00":parseFloat(t).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})},getStatusVariant(t){switch(t){case"approved":return"success";case"rejected":return"danger";default:return"warning"}},fetchRequestss(){this.modalLoading=!0,y.get("/money-requests",{params:{page:this.currentPage,perPage:this.perPage,sortBy:this.sortBy,sortDesc:this.sortDesc}}).then(t=>{console.log("ðŸš¨ API Response:",t.data),console.log("ðŸš¨ fetchRequests:",t.data.data),console.log("ðŸš¨ totalrows:",t.data.total),this.fetchRequests=t.data.data,this.totalrows=t.data.total,this.updateStats(),this.modalLoading=!1}).catch(t=>{console.error(t),this.modalLoading=!1})},openRequestModal(t=null){this.showRequestModal=!0,this.isEdit=!!t,this.currentEditId=t,t?(this.editmodalLoading=!0,y.get(`/money-requests/${t}`).then(e=>{const n=e.data.data;this.requestData.amount=n.amount,this.requestData.image_path=n.image_path,this.requestData.image=n.image,this.editmodalLoading=!1}).catch(e=>{console.error(e),this.editmodalLoading=!1})):this.requestData={amount:"",image:null,request_create_for:null,image_path:null}},submitRequest(){this.loading=!0;const t=new FormData;Object.keys(this.requestData).forEach(n=>{this.requestData[n]!==null&&n!=="image_path"&&t.append(n,this.requestData[n])}),(this.isEdit?y.put(`/money-requests/${this.currentEditId}`,t):y.post("/money-requests",t)).then(n=>{this.showRequestModal=!1,this.fetchRequestss(),this.successMessage=this.isEdit?"Fund request updated successfully!":"Fund request submitted successfully!",this.clearSuccessMessage(),this.loading=!1}).catch(n=>{var p,a;this.loading=!1,(a=(p=n.response)==null?void 0:p.data)!=null&&a.errors&&(this.errors=n.response.data.errors)})},approveRequest(t){confirm("Are you sure you want to approve this fund request?")&&y.patch(`/money-requests/${t.id}/status`,{status:"approved"}).then(()=>{this.fetchRequestss(),this.successMessage="Fund request approved successfully!",this.clearSuccessMessage()}).catch(e=>{console.error(e)})},rejectRequest(t){this.currentRequestToReject=t,this.rejectReason="",this.showRejectModal=!0},confirmReject(){y.patch(`/money-requests/${this.currentRequestToReject.id}/status`,{status:"rejected",reject_reason:this.rejectReason}).then(()=>{this.fetchRequestss(),this.successMessage="Request rejected successfully!",this.clearSuccessMessage(),this.showRejectModal=!1}).catch(t=>{console.error(t)})},deleteRequest(t){confirm("Are you sure you want to delete this request?")&&y.delete(`/money-requests/${t}`).then(()=>{this.fetchRequestss(),this.successMessage="Request deleted successfully!",this.clearSuccessMessage()}).catch(e=>{console.error(e)})},showImage(t){this.imagePreviewUrl=`/storage/${t}`,this.showImageModal=!0},downloadImage(){const t=document.createElement("a");t.href=this.imagePreviewUrl,t.download=`receipt-${new Date().getTime()}.jpg`,document.body.appendChild(t),t.click(),document.body.removeChild(t)},handleFileChange(t){this.requestData.image=t.target.files[0]},resetModal(){this.requestData={transaction_id:"",amount:"",description:"",image:null,request_create_for:null,image_path:null},this.errors={},this.isEdit=!1,this.currentEditId=null},closeModal(){this.showRequestModal=!1,this.resetModal()},clearSuccessMessage(){setTimeout(()=>{this.successMessage=""},3e3)},hasErrors(t){return this.errors&&this.errors[t]},getErrors(t){return this.errors[t][0]},removeError(t){this.errors[t]&&delete this.errors[t]},onSortChanged(t){this.currentPage=1,this.sortBy=t.sortBy,this.sortDesc=t.sortDesc,this.fetchRequestss()},updateStats(){if(console.log("ðŸš¨ updateStats called with fetchRequests:",this.fetchRequests),!this.fetchRequests||this.fetchRequests.length===0){console.log("ðŸš¨ No requests found, setting stats to 0"),this.totalRequests=0,this.pendingRequests=0,this.approvedRequests=0,this.rejectedRequests=0;return}this.totalRequests=this.fetchRequests.length,this.pendingRequests=this.fetchRequests.filter(t=>t.status==="pending").length,this.approvedRequests=this.fetchRequests.filter(t=>t.status==="approved").length,this.rejectedRequests=this.fetchRequests.filter(t=>t.status==="rejected").length,console.log("ðŸš¨ Stats Updated:",{total:this.totalRequests,pending:this.pendingRequests,approved:this.approvedRequests,rejected:this.rejectedRequests}),this.$forceUpdate()}}},N={class:"money-request-screen"},O={class:"page-header"},z={class:"header-actions"},H=["disabled"],J={key:0,class:"success-alert"},G={class:"stats-grid"},Q={key:0,class:"stat-card balance-stat-card"},K={class:"stat-content"},W={class:"stat-number balance-amount"},X={class:"stat-label"},Y=["disabled"],Z={class:"stat-card"},$={class:"stat-content"},ee={class:"stat-number"},se={class:"stat-card"},te={class:"stat-content"},ae={class:"stat-number"},le={class:"stat-card"},oe={class:"stat-content"},ie={class:"stat-number"},ne={class:"stat-card"},re={class:"stat-content"},de={class:"stat-number"},ue={class:"requests-container"},ce={class:"table-header"},me={class:"table-actions"},pe=["disabled"],fe={key:1,class:"loading-container"},ge={key:2,class:"no-data"},ye={key:3,class:"requests-table"},he={key:0,class:"text-danger small mt-1"},be={key:2,class:"text-muted"},ve={key:4,class:"d-flex justify-content-center align-items-center",style:{height:"100px"}},qe={class:"mx-2 mb-2"},ke={key:0,class:"d-flex align-items-center"},Re={class:"d-flex align-items-center"},_e={class:"showing_pagination_result"},we={class:"d-flex justify-content-end"},Ce={class:"modal-header-content"},Pe={class:"modal-title-section"},De={class:"modal-title"},Me={class:"modal-subtitle"},je=["onClick"],Ee={key:0,class:"loading-container"},Se={key:1,class:"admin-payment-section"},Be={class:"payment-details-grid"},xe={key:0,class:"detail-item locked"},Le=["title"],Ae={key:1,class:"detail-item locked"},Ie=["title"],Ue={key:2,class:"detail-item locked"},Ve=["title"],Fe={key:3,class:"detail-item locked"},Te=["title"],Ne={key:4,class:"detail-item locked"},Oe=["title"],ze={key:5,class:"detail-item locked barcode-item"},He={class:"barcode-preview"},Je=["src"],Ge={key:2,class:"money-form-container"},Qe={class:"form-group-modern"},Ke={class:"input-wrapper"},We={key:0,class:"error-text"},Xe={class:"form-group-modern"},Ye={class:"file-upload-wrapper"},Ze=["required"],$e={for:"receipt-upload",class:"file-upload-area"},es={key:0,class:"file-selected"},ss={key:0,class:"current-receipt"},ts={key:1,class:"error-text"},as={class:"form-actions"},ls=["disabled"],os={key:0,class:"btn-loading"},is={key:1,class:"btn-content"},ns={class:"text-center"},rs=["src"],ds={class:"text-center"},us=["src"];function cs(t,e,n,p,a,o){const C=g("AdminMobileNav"),P=g("b-badge"),D=g("b-link"),h=g("b-button"),M=g("b-table"),j=g("v-select"),q=g("b-col"),E=g("b-pagination"),S=g("b-row"),v=g("b-modal"),B=g("b-form-textarea"),x=g("b-form-group");return r(),d("div",N,[s("div",O,[e[24]||(e[24]=s("div",{class:"header-content"},[s("h1",{class:"page-title"},"ðŸ’° Fund Requests"),s("p",{class:"page-subtitle"},"Manage all fund requests and transactions")],-1)),s("div",z,[a.isAdmin?m("",!0):(r(),d("button",{key:0,class:"btn-primary",disabled:a.loading,onClick:e[0]||(e[0]=l=>o.openRequestModal())},e[23]||(e[23]=[s("i",{class:"fa-solid fa-plus"},null,-1),i(" Add Fund ")]),8,H))])]),a.successMessage?(r(),d("div",J,[e[25]||(e[25]=s("i",{class:"fa-solid fa-check-circle"},null,-1)),i(" "+c(a.successMessage),1)])):m("",!0),s("div",G,[a.isAdmin?m("",!0):(r(),d("div",Q,[e[27]||(e[27]=s("div",{class:"stat-icon"},"ðŸ’°",-1)),s("div",K,[s("div",W,"â‚¹"+c(o.formatBalance(a.userBalance)),1),s("div",X,[e[26]||(e[26]=i(" Available Balance ")),s("button",{onClick:e[1]||(e[1]=(...l)=>o.fetchUserBalance&&o.fetchUserBalance(...l)),class:"refresh-btn-mini",disabled:a.balanceLoading},[s("i",{class:k(["fa-solid fa-rotate-right",{spinning:a.balanceLoading}])},null,2)],8,Y)])])])),s("div",Z,[e[29]||(e[29]=s("div",{class:"stat-icon"},"ðŸ“Š",-1)),s("div",$,[s("div",ee,c(t.totalRequests||0),1),e[28]||(e[28]=s("div",{class:"stat-label"},"Total Requests",-1))])]),s("div",se,[e[31]||(e[31]=s("div",{class:"stat-icon"},"â³",-1)),s("div",te,[s("div",ae,c(t.pendingRequests||0),1),e[30]||(e[30]=s("div",{class:"stat-label"},"Pending",-1))])]),s("div",le,[e[33]||(e[33]=s("div",{class:"stat-icon"},"âœ…",-1)),s("div",oe,[s("div",ie,c(t.approvedRequests||0),1),e[32]||(e[32]=s("div",{class:"stat-label"},"Approved",-1))])]),s("div",ne,[e[35]||(e[35]=s("div",{class:"stat-icon"},"âŒ",-1)),s("div",re,[s("div",de,c(t.rejectedRequests||0),1),e[34]||(e[34]=s("div",{class:"stat-label"},"Rejected",-1))])])]),s("div",ue,[a.isAdmin?(r(),R(C,{key:0})):m("",!0),s("div",ce,[s("h3",null,"Fund Requests ("+c(t.totalRequests||0)+")",1),s("div",me,[s("button",{class:"btn-refresh",onClick:e[2]||(e[2]=(...l)=>o.fetchRequestss&&o.fetchRequestss(...l)),disabled:a.modalLoading},[s("i",{class:k(["fa-solid fa-rotate",{"fa-spin":a.modalLoading}])},null,2),i(" "+c(a.modalLoading?"Loading...":"Refresh"),1)],8,pe),s("button",{class:"btn-refresh ml-1",onClick:e[3]||(e[3]=(...l)=>o.updateStats&&o.updateStats(...l)),style:{"margin-left":"8px"}},e[36]||(e[36]=[s("i",{class:"fa-solid fa-chart-bar"},null,-1),i(" Update Stats ")]))])]),a.modalLoading?(r(),d("div",fe,e[37]||(e[37]=[s("div",{class:"loading-spinner"},null,-1),s("p",null,"Loading requests...",-1)]))):!a.fetchRequests||a.fetchRequests.length===0?(r(),d("div",ge,e[38]||(e[38]=[s("div",{class:"no-data-icon"},"ðŸ’°",-1),s("h3",null,"No Fund Requests Found",-1),s("p",null,"No fund requests found",-1)]))):(r(),d("div",ye,[f(M,{items:a.fetchRequests,fields:o.tableFields,"current-page":p.currentPage,"per-page":p.perPage,busy:a.modalLoading,responsive:"",class:"requests-table dark-table"},{"cell(amount)":u(l=>[i(" â‚¹"+c(l.item.amount.toLocaleString()),1)]),"cell(status)":u(l=>[f(P,{variant:o.getStatusVariant(l.item.status)},{default:u(()=>[i(c(l.item.status),1)]),_:2},1032,["variant"]),l.item.status==="rejected"&&l.item.reject_reason?(r(),d("div",he," Reason: "+c(l.item.reject_reason),1)):m("",!0)]),"cell(image_path)":u(l=>[f(D,{onClick:b=>o.showImage(l.item.image_path),class:"text-primary cursor-pointer"},{default:u(()=>e[39]||(e[39]=[i(" View Receipt ")])),_:2},1032,["onClick"])]),"cell(actions)":u(l=>[l.item.status==="pending"&&a.isAdmin?(r(),d(_,{key:0},[f(h,{size:"sm",variant:"success",onClick:b=>o.approveRequest(l.item)},{default:u(()=>e[40]||(e[40]=[i(" Approve ")])),_:2},1032,["onClick"]),f(h,{size:"sm",variant:"danger",onClick:b=>o.rejectRequest(l.item),class:"ml-1"},{default:u(()=>e[41]||(e[41]=[i(" Reject ")])),_:2},1032,["onClick"])],64)):!a.isAdmin&&l.item.request_by===a.currentUserId&&l.item.status==="pending"?(r(),d(_,{key:1},[f(h,{size:"sm",variant:"primary",onClick:b=>o.openRequestModal(l.item.id),class:"ml-1"},{default:u(()=>e[42]||(e[42]=[i(" Edit ")])),_:2},1032,["onClick"]),f(h,{size:"sm",variant:"danger",onClick:b=>o.deleteRequest(l.item.id),class:"ml-1"},{default:u(()=>e[43]||(e[43]=[i(" Delete ")])),_:2},1032,["onClick"])],64)):(r(),d("span",be,"No actions available"))]),_:1},8,["items","fields","current-page","per-page","busy"])])),a.modalLoading?(r(),d("div",ve,e[44]||(e[44]=[s("i",{class:"fas fa-spinner fa-spin fa-3x"},null,-1)]))):m("",!0),s("div",qe,[f(S,{class:"align-items-center"},{default:u(()=>[f(q,{cols:"12",md:"4"},{default:u(()=>[a.modalLoading?m("",!0):(r(),d("div",ke,[e[45]||(e[45]=s("span",{class:"mr-2 showing_pagination_result"},"Show",-1)),f(j,{modelValue:p.perPage,"onUpdate:modelValue":e[4]||(e[4]=l=>p.perPage=l),options:p.perPageOptions,clearable:!1,class:"mr-2"},null,8,["modelValue","options"]),e[46]||(e[46]=s("span",{class:"showing_pagination_result"},"entries",-1))]))]),_:1}),a.modalLoading?m("",!0):(r(),R(q,{key:0,cols:"12",md:"4"},{default:u(()=>[s("div",Re,[s("span",_e,"Showing "+c(o.rangeStart)+" to "+c(o.rangeEnd)+" of "+c(a.totalrows)+" entries",1)])]),_:1})),f(q,{cols:"12",md:"4"},{default:u(()=>[s("div",we,[a.totalrows>0&&!a.modalLoading?(r(),R(E,{key:0,modelValue:p.currentPage,"onUpdate:modelValue":e[5]||(e[5]=l=>p.currentPage=l),"total-rows":a.totalrows,"per-page":p.perPage,onInput:t.fetchEntries,pills:"","first-number":"","last-number":"","prev-class":"prev-item","next-class":"next-item"},{"prev-text":u(()=>e[47]||(e[47]=[s("i",{class:"fa-solid fa-angles-left"},null,-1)])),"next-text":u(()=>e[48]||(e[48]=[s("i",{class:"fa-solid fa-angles-right"},null,-1)])),_:1},8,["modelValue","total-rows","per-page","onInput"])):m("",!0)])]),_:1})]),_:1})])]),f(v,{modelValue:a.showRequestModal,"onUpdate:modelValue":e[18]||(e[18]=l=>a.showRequestModal=l),onHide:o.resetModal,centered:"",size:"xl","hide-footer":"","modal-class":"modern-modal wide-modal","header-class":"modern-modal-header","body-class":"modern-modal-body"},{"modal-header":u(({close:l})=>[s("div",Ce,[e[50]||(e[50]=s("div",{class:"modal-icon"},[s("i",{class:"fas fa-credit-card"})],-1)),s("div",Pe,[s("h4",De,c(a.isEdit?"Edit Money Request":"Create Money Request"),1),s("p",Me,c(a.isEdit?"Update your money request details":"Add funds to your account"),1)]),s("button",{type:"button",class:"modal-close-btn",onClick:b=>l()},e[49]||(e[49]=[s("i",{class:"fas fa-times"},null,-1)]),8,je)])]),default:u(()=>[a.editmodalLoading&&a.isEdit?(r(),d("div",Ee,e[51]||(e[51]=[s("div",{class:"loading-spinner"},[s("i",{class:"fas fa-spinner fa-spin"})],-1),s("p",{class:"loading-text"},"Loading request details...",-1)]))):m("",!0),!a.editmodalLoading&&a.primaryPaymentDetails?(r(),d("div",Se,[e[70]||(e[70]=s("div",{class:"section-header"},[s("div",{class:"section-icon"},[s("i",{class:"fas fa-credit-card"})]),s("div",{class:"section-title"},[s("h4",null,"ðŸ’³ Payment Details")])],-1)),s("div",Be,[a.primaryPaymentDetails.bank_name?(r(),d("div",xe,[e[53]||(e[53]=s("label",{class:"detail-label"},[s("i",{class:"fas fa-university"}),i(" Bank Name ")],-1)),s("span",{class:"detail-value clickable-value",onClick:e[6]||(e[6]=l=>o.copyToClipboard(a.primaryPaymentDetails.bank_name,"Bank Name")),title:`Click to copy ${a.primaryPaymentDetails.bank_name}`},[i(c(a.primaryPaymentDetails.bank_name)+" ",1),e[52]||(e[52]=s("i",{class:"fas fa-copy copy-icon"},null,-1))],8,Le),e[54]||(e[54]=s("i",{class:"fas fa-lock detail-lock"},null,-1))])):m("",!0),a.primaryPaymentDetails.account_holder?(r(),d("div",Ae,[e[56]||(e[56]=s("label",{class:"detail-label"},[s("i",{class:"fas fa-user"}),i(" Account Holder ")],-1)),s("span",{class:"detail-value clickable-value",onClick:e[7]||(e[7]=l=>o.copyToClipboard(a.primaryPaymentDetails.account_holder,"Account Holder")),title:`Click to copy ${a.primaryPaymentDetails.account_holder}`},[i(c(a.primaryPaymentDetails.account_holder)+" ",1),e[55]||(e[55]=s("i",{class:"fas fa-copy copy-icon"},null,-1))],8,Ie),e[57]||(e[57]=s("i",{class:"fas fa-lock detail-lock"},null,-1))])):m("",!0),a.primaryPaymentDetails.account_number?(r(),d("div",Ue,[e[59]||(e[59]=s("label",{class:"detail-label"},[s("i",{class:"fas fa-hashtag"}),i(" Account Number ")],-1)),s("span",{class:"detail-value clickable-value",onClick:e[8]||(e[8]=l=>o.copyToClipboard(a.primaryPaymentDetails.account_number,"Account Number")),title:`Click to copy ${a.primaryPaymentDetails.account_number}`},[i(c(a.primaryPaymentDetails.account_number)+" ",1),e[58]||(e[58]=s("i",{class:"fas fa-copy copy-icon"},null,-1))],8,Ve),e[60]||(e[60]=s("i",{class:"fas fa-lock detail-lock"},null,-1))])):m("",!0),a.primaryPaymentDetails.ifsc_code?(r(),d("div",Fe,[e[62]||(e[62]=s("label",{class:"detail-label"},[s("i",{class:"fas fa-angle-double-right"}),i(" IFSC Code ")],-1)),s("span",{class:"detail-value clickable-value",onClick:e[9]||(e[9]=l=>o.copyToClipboard(a.primaryPaymentDetails.ifsc_code,"IFSC Code")),title:`Click to copy ${a.primaryPaymentDetails.ifsc_code}`},[i(c(a.primaryPaymentDetails.ifsc_code)+" ",1),e[61]||(e[61]=s("i",{class:"fas fa-copy copy-icon"},null,-1))],8,Te),e[63]||(e[63]=s("i",{class:"fas fa-lock detail-lock"},null,-1))])):m("",!0),a.primaryPaymentDetails.qr_code?(r(),d("div",Ne,[e[65]||(e[65]=s("label",{class:"detail-label"},[s("i",{class:"fas fa-qrcode"}),i(" UPI ID ")],-1)),s("span",{class:"detail-value clickable-value",onClick:e[10]||(e[10]=l=>o.copyToClipboard(a.primaryPaymentDetails.qr_code,"UPI ID")),title:`Click to copy ${a.primaryPaymentDetails.qr_code}`},[i(c(a.primaryPaymentDetails.qr_code)+" ",1),e[64]||(e[64]=s("i",{class:"fas fa-copy copy-icon"},null,-1))],8,Oe),e[66]||(e[66]=s("i",{class:"fas fa-lock detail-lock"},null,-1))])):m("",!0),a.primaryPaymentDetails.barcode_image?(r(),d("div",ze,[e[68]||(e[68]=s("label",{class:"detail-label"},[s("i",{class:"fas fa-barcode"}),i(" Barcode ")],-1)),s("div",He,[s("img",{src:`/storage/${a.primaryPaymentDetails.barcode_image}`,alt:"Payment Barcode",class:"barcode-thumbnail"},null,8,Je),s("button",{onClick:e[11]||(e[11]=(...l)=>o.openBarcodeModal&&o.openBarcodeModal(...l)),class:"view-barcode-btn",type:"button"},e[67]||(e[67]=[s("i",{class:"fas fa-eye"},null,-1),i(" View ")]))]),e[69]||(e[69]=s("i",{class:"fas fa-lock detail-lock"},null,-1))])):m("",!0)])])):m("",!0),a.editmodalLoading?m("",!0):(r(),d("div",Ge,[s("form",{onSubmit:e[17]||(e[17]=A((...l)=>o.submitRequest&&o.submitRequest(...l),["prevent"])),class:"money-form"},[s("div",Qe,[e[73]||(e[73]=s("label",{class:"form-label-modern"},[s("i",{class:"fas fa-rupee-sign"}),i(" Amount (â‚¹) ")],-1)),s("div",Ke,[I(s("input",{type:"number","onUpdate:modelValue":e[12]||(e[12]=l=>a.requestData.amount=l),required:"",min:"1",placeholder:"Enter amount",class:k(["form-input-modern",{error:o.hasErrors("amount")}]),onInput:e[13]||(e[13]=l=>o.removeError("amount"))},null,34),[[U,a.requestData.amount]]),e[71]||(e[71]=s("div",{class:"input-icon"},[s("i",{class:"fas fa-rupee-sign"})],-1))]),e[74]||(e[74]=s("div",{class:"input-help"}," Enter the exact amount you paid ",-1)),o.hasErrors("amount")?(r(),d("div",We,[e[72]||(e[72]=s("i",{class:"fas fa-exclamation-circle"},null,-1)),i(" "+c(o.getErrors("amount")),1)])):m("",!0)]),s("div",Xe,[e[79]||(e[79]=s("label",{class:"form-label-modern"},[s("i",{class:"fas fa-receipt"}),i(" Payment Receipt ")],-1)),s("div",Ye,[s("input",{type:"file",id:"receipt-upload",onChange:e[14]||(e[14]=(...l)=>o.handleFileChange&&o.handleFileChange(...l)),accept:"image/*",required:!a.isEdit,class:"file-input-hidden"},null,40,Ze),s("label",$e,[e[76]||(e[76]=s("div",{class:"file-upload-content"},[s("div",{class:"file-upload-icon"},[s("i",{class:"fas fa-cloud-upload-alt"})]),s("div",{class:"file-upload-text"},[s("span",{class:"upload-title"},"Choose file or drag here"),s("span",{class:"upload-subtitle"},"Max 2MB (JPEG, PNG, GIF)")])],-1)),a.requestData.image?(r(),d("div",es,e[75]||(e[75]=[s("i",{class:"fas fa-check-circle"},null,-1),i(" File selected ")]))):m("",!0)])]),a.isEdit&&a.requestData.image_path?(r(),d("div",ss,[s("button",{type:"button",onClick:e[15]||(e[15]=l=>o.showImage(a.requestData.image_path)),class:"view-receipt-btn"},e[77]||(e[77]=[s("i",{class:"fas fa-eye"},null,-1),i(" View Current Receipt ")]))])):m("",!0),e[80]||(e[80]=s("div",{class:"input-help"}," Upload a clear image of your payment receipt or screenshot ",-1)),o.hasErrors("image")?(r(),d("div",ts,[e[78]||(e[78]=s("i",{class:"fas fa-exclamation-circle"},null,-1)),i(" "+c(o.getErrors("image")),1)])):m("",!0)]),s("div",as,[s("button",{type:"button",class:"btn-cancel",onClick:e[16]||(e[16]=(...l)=>o.closeModal&&o.closeModal(...l))},e[81]||(e[81]=[s("i",{class:"fas fa-times"},null,-1),i(" Cancel ")])),s("button",{type:"submit",class:"btn-submit",disabled:a.loading},[a.loading?(r(),d("span",os,e[82]||(e[82]=[s("i",{class:"fas fa-spinner fa-spin"},null,-1),i(" Processing... ")]))):(r(),d("span",is,[e[83]||(e[83]=s("i",{class:"fas fa-paper-plane"},null,-1)),i(" "+c(a.isEdit?"Update Request":"Submit Request"),1)]))],8,ls)])],32)]))]),_:1},8,["modelValue","onHide"]),f(v,{modelValue:a.showImageModal,"onUpdate:modelValue":e[19]||(e[19]=l=>a.showImageModal=l),title:"Payment Receipt",centered:""},{"modal-footer":u(()=>[f(h,{variant:"primary",onClick:o.downloadImage},{default:u(()=>e[84]||(e[84]=[i("Download")])),_:1},8,["onClick"])]),default:u(()=>[s("div",ns,[s("img",{src:a.imagePreviewUrl,alt:"Payment Receipt",class:"img-fluid"},null,8,rs)])]),_:1},8,["modelValue"]),f(v,{modelValue:a.showBarcodeModal,"onUpdate:modelValue":e[20]||(e[20]=l=>a.showBarcodeModal=l),title:"Payment Barcode",centered:"",size:"lg","modal-class":"barcode-modal"},{"modal-footer":u(()=>[f(h,{variant:"primary",onClick:o.downloadBarcode},{default:u(()=>e[85]||(e[85]=[i("Download Barcode")])),_:1},8,["onClick"])]),default:u(()=>{var l;return[s("div",ds,[s("img",{src:`/storage/${(l=a.primaryPaymentDetails)==null?void 0:l.barcode_image}`,alt:"Payment Barcode",class:"barcode-modal-image"},null,8,us)])]}),_:1},8,["modelValue"]),f(v,{modelValue:a.showRejectModal,"onUpdate:modelValue":e[22]||(e[22]=l=>a.showRejectModal=l),title:"Reject Request",centered:"",onOk:o.confirmReject},{default:u(()=>[f(x,{label:"Reject Reason","label-for":"rejectReason"},{default:u(()=>[f(B,{id:"rejectReason",modelValue:a.rejectReason,"onUpdate:modelValue":e[21]||(e[21]=l=>a.rejectReason=l),rows:"3",required:"",placeholder:"Please specify the reason for rejection..."},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue","onOk"])])}const ys=L(T,[["render",cs],["__scopeId","data-v-92ad4496"]]);export{ys as default};
