import{_ as w,f as y,u as S,m as h,g as M,c as o,o as n,b as e,a as b,w as x,h as _,i as t,j as v,v as P,n as r,k as C,l as u,p as I,q as p,t as N,s as V}from"./app-BFj7m03g.js";import{_ as D,l as L}from"./index-C09OSkmi.js";const T={class:"login-container"},U={class:"login-card"},q={class:"form-group"},A={class:"input-container"},B={class:"form-group"},R={class:"input-container"},$=["type"],E={class:"form-options"},J={class:"checkbox-container"},O={key:0,class:"error-message"},j=["disabled"],z={key:0},F={key:1,class:"loading-spinner"},W={class:"login-footer"},G={__name:"Login",setup(H){const s=y({email:"",password:"",errorMessage:"",status:!1,showPassword:!1,loader:!1}),c=S(),m=h(),g=()=>{const d=localStorage.getItem("user_credentials");if(d){const a=JSON.parse(d);s.value.email=a.email,s.value.password=a.password}},f=localStorage.getItem("rememberMeStatus");s.value.status=f==="true",s.value.status&&g();const k=()=>{if(s.value.loader=!0,s.value.errorMessage="",localStorage.setItem("rememberMeStatus",s.value.status),!s.value.email||!s.value.password){s.value.errorMessage="Please fill in all required fields",s.value.loader=!1;return}V.post("/login",{email:s.value.email,password:s.value.password}).then(d=>{const a=d.data.access_token,l=d.data.user;if(localStorage.setItem("access_token",a),localStorage.setItem("userData",JSON.stringify(l)),s.value.status){const i={email:s.value.email,password:s.value.password};localStorage.setItem("user_credentials",JSON.stringify(i))}L.success("Login successful! Redirecting...",{autoClose:2e3,position:"top-right"}),setTimeout(()=>{l.is_admin==1?c.push("/admin/dashboard"):c.push("/user/dashboard"),s.value.loader=!1},1500),m.emit("login")}).catch(d=>{s.value.loader=!1,d.response&&d.response.status===422?s.value.errorMessage="Please check your input and try again":d.response&&d.response.status===401?s.value.errorMessage=d.response.data.error||"Invalid email or password":d.response&&d.response.status===403?s.value.errorMessage=d.response.data.error||"User is inactive":s.value.errorMessage="Connection error. Please try again."})};return(d,a)=>{const l=M("router-link");return n(),o("div",T,[a[17]||(a[17]=e("div",{class:"login-background"},[e("div",{class:"background-pattern"})],-1)),e("div",U,[a[16]||(a[16]=b('<div class="login-header" data-v-b8ae7d1b><div class="logo-container" data-v-b8ae7d1b><div class="logo-image" data-v-b8ae7d1b><img src="'+D+'" alt="Macxgain Logo" data-v-b8ae7d1b></div><h1 class="logo-text" data-v-b8ae7d1b>Macxgain</h1><p class="tagline" data-v-b8ae7d1b>Smart Trading Solutions</p></div><h2 class="welcome-text" data-v-b8ae7d1b>Welcome Back</h2><p class="subtitle" data-v-b8ae7d1b>Sign in to your account to continue</p></div>',1)),e("form",{onSubmit:x(k,["prevent"]),class:"login-form"},[e("div",q,[a[5]||(a[5]=e("label",{for:"email",class:"form-label"},[e("i",{class:"fas fa-user"}),t(" Username ")],-1)),e("div",A,[v(e("input",{id:"email",type:"email","onUpdate:modelValue":a[0]||(a[0]=i=>s.value.email=i),required:"",placeholder:"Enter your email",class:r(["form-input",{error:s.value.errorMessage&&!s.value.email}])},null,2),[[P,s.value.email]]),a[4]||(a[4]=e("i",{class:"fas fa-user input-icon"},null,-1))])]),e("div",B,[a[7]||(a[7]=e("label",{for:"password",class:"form-label"},[e("i",{class:"fas fa-lock"}),t(" Password ")],-1)),e("div",R,[v(e("input",{id:"password",type:s.value.showPassword?"text":"password","onUpdate:modelValue":a[1]||(a[1]=i=>s.value.password=i),required:"",placeholder:"Enter your password",class:r(["form-input",{error:s.value.errorMessage&&!s.value.password}])},null,10,$),[[C,s.value.password]]),a[6]||(a[6]=e("i",{class:"fas fa-lock input-icon"},null,-1)),e("button",{type:"button",onClick:a[2]||(a[2]=i=>s.value.showPassword=!s.value.showPassword),class:r(["password-toggle",{active:s.value.showPassword}])},[e("i",{class:r(s.value.showPassword?"fas fa-eye-slash":"fas fa-eye")},null,2)],2)])]),e("div",E,[e("label",J,[v(e("input",{type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=i=>s.value.status=i),class:"checkbox-input"},null,512),[[I,s.value.status]]),a[8]||(a[8]=e("span",{class:"checkmark"},null,-1)),a[9]||(a[9]=t(" Remember me "))]),u(l,{to:"/forgot-password",class:"forgot-link"},{default:p(()=>a[10]||(a[10]=[t(" Forgot Password? ")])),_:1})]),s.value.errorMessage?(n(),o("div",O,[a[11]||(a[11]=e("i",{class:"fas fa-exclamation-circle"},null,-1)),t(" "+N(s.value.errorMessage),1)])):_("",!0),e("button",{type:"submit",class:"login-button",disabled:s.value.loader},[s.value.loader?(n(),o("span",F,a[13]||(a[13]=[e("i",{class:"fas fa-spinner fa-spin"},null,-1),t(" Signing In... ")]))):(n(),o("span",z,a[12]||(a[12]=[e("i",{class:"fas fa-sign-in-alt"},null,-1),t(" Sign In ")])))],8,j)],32),e("div",W,[e("p",null,[a[15]||(a[15]=t("Don't have an account? ")),u(l,{to:"/register",class:"signup-link"},{default:p(()=>a[14]||(a[14]=[t("Register here")])),_:1})])])]),a[18]||(a[18]=b('<div class="trading-background" data-v-b8ae7d1b><div class="stock-chart chart-1" data-v-b8ae7d1b><div class="candlestick up" data-v-b8ae7d1b></div><div class="candlestick down" data-v-b8ae7d1b></div><div class="candlestick up" data-v-b8ae7d1b></div><div class="candlestick up" data-v-b8ae7d1b></div><div class="candlestick down" data-v-b8ae7d1b></div><div class="candlestick up" data-v-b8ae7d1b></div><div class="candlestick up" data-v-b8ae7d1b></div><div class="candlestick down" data-v-b8ae7d1b></div></div><div class="stock-chart chart-2" data-v-b8ae7d1b><div class="candlestick down" data-v-b8ae7d1b></div><div class="candlestick up" data-v-b8ae7d1b></div><div class="candlestick down" data-v-b8ae7d1b></div><div class="candlestick up" data-v-b8ae7d1b></div><div class="candlestick up" data-v-b8ae7d1b></div><div class="candlestick down" data-v-b8ae7d1b></div><div class="candlestick up" data-v-b8ae7d1b></div><div class="candlestick up" data-v-b8ae7d1b></div></div><div class="stock-chart chart-3" data-v-b8ae7d1b><div class="candlestick up" data-v-b8ae7d1b></div><div class="candlestick up" data-v-b8ae7d1b></div><div class="candlestick down" data-v-b8ae7d1b></div><div class="candlestick up" data-v-b8ae7d1b></div><div class="candlestick down" data-v-b8ae7d1b></div><div class="candlestick up" data-v-b8ae7d1b></div><div class="candlestick down" data-v-b8ae7d1b></div><div class="candlestick up" data-v-b8ae7d1b></div></div><div class="trading-indicators" data-v-b8ae7d1b><div class="indicator indicator-1" data-v-b8ae7d1b><div class="line" data-v-b8ae7d1b></div><div class="dot" data-v-b8ae7d1b></div></div><div class="indicator indicator-2" data-v-b8ae7d1b><div class="line" data-v-b8ae7d1b></div><div class="dot" data-v-b8ae7d1b></div></div><div class="indicator indicator-3" data-v-b8ae7d1b><div class="line" data-v-b8ae7d1b></div><div class="dot" data-v-b8ae7d1b></div></div></div><div class="price-tickers" data-v-b8ae7d1b><div class="ticker ticker-1" data-v-b8ae7d1b><span class="symbol" data-v-b8ae7d1b>AAPL</span><span class="price up" data-v-b8ae7d1b>$185.42</span><span class="change" data-v-b8ae7d1b>+2.34%</span></div><div class="ticker ticker-2" data-v-b8ae7d1b><span class="symbol" data-v-b8ae7d1b>TSLA</span><span class="price down" data-v-b8ae7d1b>$245.67</span><span class="change" data-v-b8ae7d1b>-1.23%</span></div><div class="ticker ticker-3" data-v-b8ae7d1b><span class="symbol" data-v-b8ae7d1b>NVDA</span><span class="price up" data-v-b8ae7d1b>$892.15</span><span class="change" data-v-b8ae7d1b>+3.45%</span></div></div><div class="floating-numbers" data-v-b8ae7d1b><div class="number" data-v-b8ae7d1b>+2.34%</div><div class="number" data-v-b8ae7d1b>-1.23%</div><div class="number" data-v-b8ae7d1b>+3.45%</div><div class="number" data-v-b8ae7d1b>+1.67%</div><div class="number" data-v-b8ae7d1b>-0.89%</div><div class="number" data-v-b8ae7d1b>+4.12%</div></div></div>',1))])}}},X=w(G,[["__scopeId","data-v-b8ae7d1b"]]);export{X as default};
