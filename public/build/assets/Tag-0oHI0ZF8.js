/* empty css                   */import{_ as M,a as u,z as U,c as g,o as d,b as a,e as f,i as r,t as p,g as x,k as o,f as m,A as E,n as A,w as N,v as O,l as v,r as w,s as z}from"./app-W3Nmn5mk.js";import{C as F}from"./vue-select.es-BWK27iyf.js";const j={components:{vSelect:F},data(){return{errors:{},showfilter:!1,fetchSystem:[],fields:[{key:"title",label:"Title",sortable:!0,formatter:e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():""},{key:"actions",label:"Actions"}],tagData:{id:"",title:""},encodeBase64:e=>btoa(e.toString()),showtag:!1,EdittagId:!1,loading:!1,successMessage:"",StatusOption:[{label:"Active",value:"A"},{label:"Inactive",value:"I"}],totalrows:0,sortBy:"",sortDesc:!0,modalLoading:!1,editmodalLoading:!1}},mounted(){this.fetchEntries()},watch:{currentPage(t){this.fetchEntries()},perPage(t){this.currentPage=1,this.fetchEntries()}},computed:{sortIcon(){return this.sortDesc?"fas fa-sort-down":"fas fa-sort-up"},rangeStart(){return this.totalrows===0?0:(this.currentPage-1)*this.perPage+1},rangeEnd(){return this.currentPage*this.perPage>=this.totalrows?this.totalrows:this.currentPage*this.perPage}},setup(){const t=w({title:""}),e=w(1),b=w(10),c=[10,50,75,100],s=n=>{_.value[n]=" "},i=n=>n in _.value,h=n=>_.value[n][0],_=w([]),y=z(()=>{const n=refTeamListTable.value?refTeamListTable.value.localItems.length:0;return{from:b.value*(e.value-1)+(n?1:0),to:b.value*(e.value-1)+n,of:totalsystem.value}});return{search:t,RemoveError:s,hasErrors:i,getErrors:h,errors:_,currentPage:e,perPage:b,perPageOptions:c,dataMeta:y}},methods:{onSortChanged(t){this.currentPage=1,this.sortBy=t.sortBy,this.sortDesc=t.sortDesc},changeSorting(t){this.currentPage=1,this.sortBy===t?this.sortDesc=!this.sortDesc:(this.sortBy=t,this.sortDesc=!1),this.fetchEntries()},getSortIcon(t){return this.sortBy===t?this.sortDesc?"fas fa-sort-down":"fas fa-sort-up":"fas fa-sort"},resetFilter(){this.search={title:""},this.currentPage=1,this.fetchEntries(),this.showfilter=!1},searchFilter(){this.currentPage=1,this.fetchEntries(),this.showfilter=!1},fetchEntries(){this.modalLoading=!0,v.get("/tag",{params:{title:this.search.title,page:this.currentPage,perPage:this.perPage,sortBy:this.sortBy,sortDesc:this.sortDesc}}).then(t=>{this.modalLoading=!1,this.fetchSystem=t.data.data,this.totalrows=t.data.total}).catch(t=>{this.modalLoading=!1,console.error(t)})},openModal(){this.showtag=!0,this.EdittagId=!1,this.tagData={id:"",title:""}},edittag(t){this.showtag=!0,this.EdittagId=!0,this.editmodalLoading=!0,v.get(`/tag/${t}/edit`).then(e=>{this.tagData=e.data.data,this.editmodalLoading=!1}).catch(e=>{this.editmodalLoading=!1,console.error(e)})},saveEntry(){if(this.loading=!0,this.EdittagId){const t=this.encodeBase64(this.tagData.id);v.put(`/tag/${t}`,this.tagData).then(()=>{this.showtag=!1,this.fetchEntries(),this.loading=!1,this.successMessage="Tag Updated Successfully!",this.clearSuccessMessage(),this.$router.push("/master/tag")}).catch(e=>{this.loading=!1,e.response.data.code==422&&(this.errors=e.response.data.errors)})}else v.post("/tag",this.tagData).then(t=>{this.showtag=!1,this.loading=!1,this.successMessage="Tag saved successfully!",this.clearSuccessMessage(),this.$router.push("/master/tag"),this.fetchEntries()}).catch(t=>{this.loading=!1,t.response.data.code==422&&(this.errors=t.response.data.errors)})},deletetag(t){v.delete(`/tag/${t}`).then(()=>{this.fetchEntries(),this.successMessage="Tag Deleted Successfully!",this.clearSuccessMessage()}).catch(e=>{})},hasErrors(t){return t in this.errors},getErrors(t){return this.errors[t][0]},removeError(t){this.errors[t]=" "},clearSuccessMessage(){setTimeout(()=>{this.successMessage=""},2e3)},resetModal(){this.tagData={id:"",title:""},this.showtag=!1,this.errors=[]}}},R={class:"dashboard"},H={class:"list__page"},q={key:0,class:"alert alert-success"},G={class:"list__title"},J={key:1},K={class:"table-container"},Q={key:0},W={size:"sm",class:"shift2"},X={key:1,class:"d-flex justify-content-center align-items-center",style:{height:"100px"}},Y={class:"mx-2 mb-2"},Z={key:0,class:"d-flex align-items-center"},$={class:"d-flex align-items-center"},ee={class:"showing_pagination_result"},te={class:"d-flex justify-content-end"},se={key:0,class:"d-flex justify-content-center align-items-center",style:{height:"100px"}},ae={key:1},oe={class:"text-danger"},re={key:0,class:"text-danger"},ie={class:"d-flex justify-content-end"},le={key:0},ne={key:1};function de(t,e,b,c,s,i){const h=u("b-button"),_=u("b-form-input"),y=u("b-form-group"),n=u("b-col"),k=u("b-row"),S=u("b-card"),C=u("b-link"),T=u("b-table"),D=u("v-select"),I=u("b-pagination"),B=u("b-form"),L=u("b-modal"),V=U("ripple");return d(),g("div",R,[a("div",H,[s.successMessage?(d(),g("div",q,p(s.successMessage),1)):f("",!0),a("div",G,[e[11]||(e[11]=a("h4",null,"Tag",-1)),r(h,{variant:"primary",disabled:s.loading,onClick:e[0]||(e[0]=l=>i.openModal())},{default:o(()=>e[9]||(e[9]=[m(" Add ")])),_:1},8,["disabled"]),x((d(),E(h,{variant:"primary",class:"mb-0 ml-md-1 basicButton shift3",onClick:e[1]||(e[1]=l=>s.showfilter=!s.showfilter)},{default:o(()=>e[10]||(e[10]=[m(" Filter ")])),_:1})),[[V,"rgba(113, 102, 240, 0.15)",void 0,{400:!0}]])]),s.showfilter?(d(),g("div",J,[r(S,{class:"filterBox mb-0"},{default:o(()=>[r(k,null,{default:o(()=>[r(n,{md:"5",xl:"3"},{default:o(()=>[r(y,{label:"Title","label-for":"Name"},{default:o(()=>[r(_,{modelValue:c.search.title,"onUpdate:modelValue":e[2]||(e[2]=l=>c.search.title=l),id:"basicInput",placeholder:"Enter Title"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),r(k,null,{default:o(()=>[r(n,{md:"2",xl:"2"},{default:o(()=>[r(h,{onClick:i.searchFilter,variant:"primary mt-1 w-100"},{default:o(()=>e[12]||(e[12]=[m(" Search ")])),_:1},8,["onClick"])]),_:1}),r(n,{md:"2",xl:"2"},{default:o(()=>[r(h,{onClick:i.resetFilter,variant:"primary mt-1 w-100"},{default:o(()=>e[13]||(e[13]=[m(" Reset ")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})])):f("",!0),a("div",K,[s.modalLoading?f("",!0):(d(),g("div",Q,[r(T,{responsive:"",stacked:"sm",ref:"refTeamListTable",items:s.fetchSystem,fields:s.fields,onSortChanged:i.onSortChanged,class:"mb-2 staticTable","empty-text":"No matching records found"},{"head(title)":o(l=>[a("span",{onClick:e[3]||(e[3]=P=>i.changeSorting("title"))},[e[14]||(e[14]=m(" Title ")),a("i",{class:A(i.getSortIcon("title"))},null,2)])]),"cell(actions)":o(l=>[r(h,{size:"sm",onClick:P=>i.edittag(s.encodeBase64(l.item.id))},{default:o(()=>e[15]||(e[15]=[a("i",{class:"fa fa-pencil","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"]),e[18]||(e[18]=m(" Â  ")),r(h,{size:"sm",variant:"danger",onClick:P=>i.deletetag(s.encodeBase64(l.item.id))},{default:o(()=>e[16]||(e[16]=[a("i",{class:"fa fa-trash","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"]),a("button",W,[r(C,{to:{name:"ViewTag",params:{id:s.encodeBase64(l.item.id)}},title:"View"},{default:o(()=>e[17]||(e[17]=[a("i",{class:"fas fa-eye"},null,-1)])),_:2},1032,["to"])])]),_:1},8,["items","fields","onSortChanged"])])),s.modalLoading?(d(),g("div",X,e[19]||(e[19]=[a("i",{class:"fas fa-spinner fa-spin fa-3x"},null,-1)]))):f("",!0),a("div",Y,[r(k,{class:"align-items-center"},{default:o(()=>[r(n,{cols:"12",md:"4"},{default:o(()=>[s.modalLoading?f("",!0):(d(),g("div",Z,[e[20]||(e[20]=a("span",{class:"mr-2 showing_pagination_result"},"Show",-1)),r(D,{modelValue:c.perPage,"onUpdate:modelValue":e[4]||(e[4]=l=>c.perPage=l),options:c.perPageOptions,clearable:!1,class:"mr-2"},null,8,["modelValue","options"]),e[21]||(e[21]=a("span",{class:"showing_pagination_result"},"entries",-1))]))]),_:1}),s.modalLoading?f("",!0):(d(),E(n,{key:0,cols:"12",md:"4"},{default:o(()=>[a("div",$,[a("span",ee,"Showing "+p(i.rangeStart)+" to "+p(i.rangeEnd)+" of "+p(s.totalrows)+" entries",1)])]),_:1})),r(n,{cols:"12",md:"4"},{default:o(()=>[a("div",te,[s.totalrows>0&&!s.modalLoading?(d(),E(I,{key:0,modelValue:c.currentPage,"onUpdate:modelValue":e[5]||(e[5]=l=>c.currentPage=l),"total-rows":s.totalrows,"per-page":c.perPage,onInput:i.fetchEntries,pills:"","first-number":"","last-number":"","prev-class":"prev-item","next-class":"next-item"},{"prev-text":o(()=>e[22]||(e[22]=[a("i",{class:"fa-solid fa-angles-left"},null,-1)])),"next-text":o(()=>e[23]||(e[23]=[a("i",{class:"fa-solid fa-angles-right"},null,-1)])),_:1},8,["modelValue","total-rows","per-page","onInput"])):f("",!0)])]),_:1})]),_:1})])]),r(L,{modelValue:s.showtag,"onUpdate:modelValue":e[8]||(e[8]=l=>s.showtag=l),onOk:t.handleOk,onHide:i.resetModal,centered:"","cancel-variant":"outline-secondary",title:s.EdittagId?"Update Tag":"Add Tag","ok-title":s.EdittagId?"Update":"Add","hide-footer":""},{default:o(()=>[s.editmodalLoading&&s.EdittagId?(d(),g("div",se,e[24]||(e[24]=[a("i",{class:"fas fa-spinner fa-spin fa-3x"},null,-1)]))):f("",!0),s.editmodalLoading?f("",!0):(d(),g("div",ae,[r(B,{onSubmit:N(i.saveEntry,["prevent"])},{default:o(()=>[e[26]||(e[26]=a("label",{class:"form-label"},[m(" Title "),a("span",{style:{color:"red"}}," *")],-1)),r(y,{"label-for":"title"},{default:o(()=>[x(a("input",{type:"text",id:"title","onUpdate:modelValue":e[6]||(e[6]=l=>s.tagData.title=l),required:"",class:"form-control",onInput:e[7]||(e[7]=l=>c.RemoveError("title")),placeholder:"Enter Tag"},null,544),[[O,s.tagData.title]]),a("small",oe,p(c.errors[0]),1),i.hasErrors("title")?(d(),g("div",re,p(i.getErrors("title")),1)):f("",!0)]),_:1}),a("div",ie,[r(h,{variant:"primary",disabled:s.loading,onClick:i.saveEntry},{default:o(()=>[s.loading?(d(),g("span",le,e[25]||(e[25]=[a("i",{class:"fas fa-spinner fa-spin"},null,-1),m(" Processing... ")]))):(d(),g("span",ne,p(s.EdittagId?"Update":"Add"),1))]),_:1},8,["disabled","onClick"])])]),_:1},8,["onSubmit"])]))]),_:1},8,["modelValue","onOk","onHide","title","ok-title"])])])}const fe=M(j,[["render",de],["__scopeId","data-v-1ca46173"]]);export{fe as default};
