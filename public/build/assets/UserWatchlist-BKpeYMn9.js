import{_ as g,g as S,c as r,o as c,a as p,b as s,l as b,h,j as k,v as w,M as _,F as v,r as f,n as d,t as l,i as C}from"./app-BuGciwe8.js";const F={name:"UserWatchlist",data(){return{loading:!1,searchQuery:"",selectedFilter:"all",stockSearchResults:[],watchlistStocks:[],availableStocks:[{symbol:"RELIANCE",name:"Reliance Industries Ltd",price:2456.75},{symbol:"TCS",name:"Tata Consultancy Services",price:3678.45},{symbol:"INFY",name:"Infosys Limited",price:1567.8},{symbol:"HDFC",name:"HDFC Bank Limited",price:1678.9},{symbol:"ADANIPORTS",name:"Adani Ports & SEZ",price:789.45},{symbol:"ASIANPAINT",name:"Asian Paints Ltd",price:3234.56},{symbol:"AXISBANK",name:"Axis Bank Ltd",price:987.65},{symbol:"BAJAJ-AUTO",name:"Bajaj Auto Ltd",price:4567.89},{symbol:"BHARTIARTL",name:"Bharti Airtel Ltd",price:876.54},{symbol:"CIPLA",name:"Cipla Ltd",price:1234.56},{symbol:"WIPRO",name:"Wipro Limited",price:456.78},{symbol:"MARUTI",name:"Maruti Suzuki India Ltd",price:9876.54},{symbol:"ICICIBANK",name:"ICICI Bank Ltd",price:987.65},{symbol:"SBIN",name:"State Bank of India",price:543.21},{symbol:"ITC",name:"ITC Limited",price:432.1},{symbol:"HDFCBANK",name:"HDFC Bank Ltd",price:1543.67},{symbol:"LT",name:"Larsen & Toubro Ltd",price:2345.89},{symbol:"ONGC",name:"Oil & Natural Gas Corp",price:234.56},{symbol:"NTPC",name:"NTPC Limited",price:178.9},{symbol:"POWERGRID",name:"Power Grid Corp of India",price:234.67}]}},computed:{filteredWatchlist(){let e=this.watchlistStocks;return this.selectedFilter==="gainers"?e=e.filter(t=>t.change>0):this.selectedFilter==="losers"&&(e=e.filter(t=>t.change<0)),e},gainersCount(){return this.watchlistStocks.filter(e=>e.change>0).length},losersCount(){return this.watchlistStocks.filter(e=>e.change<0).length},averageChange(){return this.watchlistStocks.length===0?0:this.watchlistStocks.reduce((t,n)=>t+n.change,0)/this.watchlistStocks.length}},mounted(){this.loadWatchlistFromStorage()},methods:{loadWatchlistFromStorage(){this.loading=!0;const e=localStorage.getItem("userWatchlist");if(e)try{this.watchlistStocks=JSON.parse(e)}catch(t){console.error("Error loading watchlist from storage:",t),this.watchlistStocks=[]}setTimeout(()=>{this.loading=!1},500)},saveWatchlistToStorage(){try{localStorage.setItem("userWatchlist",JSON.stringify(this.watchlistStocks))}catch(e){console.error("Error saving watchlist to storage:",e)}},handleStockSearch(){if(this.searchQuery.length<2){this.stockSearchResults=[];return}this.stockSearchResults=this.availableStocks.filter(e=>e.symbol.toLowerCase().includes(this.searchQuery.toLowerCase())||e.name.toLowerCase().includes(this.searchQuery.toLowerCase())).slice(0,5)},addStockFromSearch(){this.stockSearchResults.length>0&&this.addStockToWatchlist(this.stockSearchResults[0])},clearSearch(){this.searchQuery="",this.stockSearchResults=[]},setFilter(e){this.selectedFilter=e},addStockToWatchlist(e){if(this.watchlistStocks.find(u=>u.symbol===e.symbol)){this.$bvToast.toast("Stock is already in your watchlist",{title:"Already Added",variant:"warning",solid:!0}),this.clearSearch();return}const n={...e,change:Math.random()*6-3,high:e.price*(1+Math.random()*.05),low:e.price*(1-Math.random()*.05),volume:Math.floor(Math.random()*5e6)+1e5};this.watchlistStocks.push(n),this.saveWatchlistToStorage(),this.clearSearch(),this.$bvToast.toast(`${e.symbol} added to your watchlist`,{title:"Stock Added",variant:"success",solid:!0})},removeFromWatchlist(e){this.$bvModal.msgBoxConfirm(`Remove ${e.symbol} from your watchlist?`,{title:"Confirm Removal",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"Remove",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then(t=>{t&&(this.watchlistStocks=this.watchlistStocks.filter(n=>n.symbol!==e.symbol),this.saveWatchlistToStorage(),this.$bvToast.toast(`${e.symbol} removed from watchlist`,{title:"Stock Removed",variant:"info",solid:!0}))})},viewStockDetails(e){this.$bvToast.toast(`Viewing details for ${e.symbol}`,{title:"Stock Details",variant:"info",solid:!0})},formatVolume(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString()}}},T={class:"watchlist-container"},A={class:"search-section"},I={class:"search-container"},L={class:"search-input-wrapper"},R={key:0,class:"search-results-dropdown"},W=["onClick"],B={class:"result-info"},N={class:"result-symbol"},x={class:"result-name"},D={class:"result-price"},M={class:"filter-buttons"},V={class:"stats-section"},Q={class:"stats-grid"},P={class:"stat-card"},O={class:"stat-content"},E={class:"stat-value"},H={class:"stat-card"},G={class:"stat-content"},K={class:"stat-value"},U={class:"stat-card"},j={class:"stat-content"},z={class:"stat-value"},J={class:"stat-card"},Y={class:"stat-content"},X={class:"stat-value"},Z={class:"watchlist-content"},q={key:0,class:"empty-state"},$={class:"empty-title"},ss={class:"empty-subtitle"},ts={key:1,class:"loading-state"},es={key:2,class:"watchlist-grid"},as={class:"stock-header"},is={class:"stock-info"},ls={class:"stock-symbol"},os={class:"stock-name"},rs={class:"stock-actions"},cs=["onClick"],ns=["onClick"],ds={class:"stock-price"},hs={class:"current-price"},us={class:"stock-details"},ms={class:"detail-row"},vs={class:"detail-value"},fs={class:"detail-row"},ys={class:"detail-value"},gs={class:"detail-row"},Ss={class:"detail-value"},ps={class:"stock-chart"};function bs(e,t,n,u,o,i){const y=S("BottomAppBar");return c(),r("div",T,[t[26]||(t[26]=p('<div class="watchlist-header" data-v-f843212c><div class="header-content" data-v-f843212c><div class="header-left" data-v-f843212c><div class="header-icon" data-v-f843212c><i class="fas fa-eye" data-v-f843212c></i></div><div class="header-text" data-v-f843212c><h1 class="page-title" data-v-f843212c>My Watchlist</h1><p class="page-subtitle" data-v-f843212c>Track your favorite stocks and monitor market movements</p></div></div></div></div>',1)),s("div",A,[s("div",I,[s("div",L,[t[8]||(t[8]=s("i",{class:"fas fa-search search-icon"},null,-1)),k(s("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>o.searchQuery=a),placeholder:"Search and add stocks to your watchlist...",class:"search-input",onInput:t[1]||(t[1]=(...a)=>i.handleStockSearch&&i.handleStockSearch(...a)),onKeypress:t[2]||(t[2]=_((...a)=>i.addStockFromSearch&&i.addStockFromSearch(...a),["enter"]))},null,544),[[w,o.searchQuery]]),o.searchQuery?(c(),r("button",{key:0,onClick:t[3]||(t[3]=(...a)=>i.clearSearch&&i.clearSearch(...a)),class:"clear-search"},t[7]||(t[7]=[s("i",{class:"fas fa-times"},null,-1)]))):h("",!0)]),o.stockSearchResults.length>0&&o.searchQuery?(c(),r("div",R,[t[10]||(t[10]=s("div",{class:"results-header"},[s("span",null,"Search Results - Click to add to watchlist")],-1)),(c(!0),r(v,null,f(o.stockSearchResults,a=>(c(),r("div",{key:a.symbol,class:"search-result-item",onClick:m=>i.addStockToWatchlist(a)},[s("div",B,[s("div",N,l(a.symbol),1),s("div",x,l(a.name),1)]),s("div",D,"₹"+l(a.price.toFixed(2)),1),t[9]||(t[9]=s("div",{class:"result-add-btn"},[s("i",{class:"fas fa-plus"})],-1))],8,W))),128))])):h("",!0),s("div",M,[s("button",{class:d(["filter-btn",{active:o.selectedFilter==="all"}]),onClick:t[4]||(t[4]=a=>i.setFilter("all"))}," All ",2),s("button",{class:d(["filter-btn",{active:o.selectedFilter==="gainers"}]),onClick:t[5]||(t[5]=a=>i.setFilter("gainers"))}," Gainers ",2),s("button",{class:d(["filter-btn",{active:o.selectedFilter==="losers"}]),onClick:t[6]||(t[6]=a=>i.setFilter("losers"))}," Losers ",2)])])]),s("div",V,[s("div",Q,[s("div",P,[t[12]||(t[12]=s("div",{class:"stat-icon"},[s("i",{class:"fas fa-list"})],-1)),s("div",O,[s("div",E,l(o.watchlistStocks.length),1),t[11]||(t[11]=s("div",{class:"stat-label"},"Total Stocks",-1))])]),s("div",H,[t[14]||(t[14]=s("div",{class:"stat-icon gainers"},[s("i",{class:"fas fa-arrow-up"})],-1)),s("div",G,[s("div",K,l(i.gainersCount),1),t[13]||(t[13]=s("div",{class:"stat-label"},"Gainers",-1))])]),s("div",U,[t[16]||(t[16]=s("div",{class:"stat-icon losers"},[s("i",{class:"fas fa-arrow-down"})],-1)),s("div",j,[s("div",z,l(i.losersCount),1),t[15]||(t[15]=s("div",{class:"stat-label"},"Losers",-1))])]),s("div",J,[t[18]||(t[18]=s("div",{class:"stat-icon"},[s("i",{class:"fas fa-chart-line"})],-1)),s("div",Y,[s("div",X,l(i.averageChange.toFixed(2))+"%",1),t[17]||(t[17]=s("div",{class:"stat-label"},"Avg Change",-1))])])])]),s("div",Z,[i.filteredWatchlist.length===0&&!o.loading?(c(),r("div",q,[t[19]||(t[19]=s("div",{class:"empty-icon"},[s("i",{class:"fas fa-eye-slash"})],-1)),s("h3",$,l(o.searchQuery?"No stocks found in watchlist":"Your watchlist is empty"),1),s("p",ss,l(o.searchQuery?"Try adjusting your search criteria or search for new stocks to add":"Use the search bar above to find and add stocks to your watchlist"),1)])):h("",!0),o.loading?(c(),r("div",ts,t[20]||(t[20]=[s("div",{class:"loading-spinner"},[s("i",{class:"fas fa-spinner fa-spin"})],-1),s("p",null,"Loading your watchlist...",-1)]))):h("",!0),i.filteredWatchlist.length>0?(c(),r("div",es,[(c(!0),r(v,null,f(i.filteredWatchlist,a=>(c(),r("div",{key:a.symbol,class:d(["stock-card",{positive:a.change>0,negative:a.change<0}])},[s("div",as,[s("div",is,[s("h3",ls,l(a.symbol),1),s("p",os,l(a.name),1)]),s("div",rs,[s("button",{class:"action-btn",onClick:m=>i.viewStockDetails(a),title:"View Details"},t[21]||(t[21]=[s("i",{class:"fas fa-chart-area"},null,-1)]),8,cs),s("button",{class:"action-btn remove",onClick:m=>i.removeFromWatchlist(a),title:"Remove"},t[22]||(t[22]=[s("i",{class:"fas fa-trash"},null,-1)]),8,ns)])]),s("div",ds,[s("div",hs,"₹"+l(a.price.toFixed(2)),1),s("div",{class:d(["price-change",{positive:a.change>0,negative:a.change<0}])},[s("i",{class:d(a.change>0?"fas fa-arrow-up":"fas fa-arrow-down")},null,2),C(" "+l(a.change>0?"+":"")+l(a.change.toFixed(2))+"% ",1)],2)]),s("div",us,[s("div",ms,[t[23]||(t[23]=s("span",{class:"detail-label"},"High:",-1)),s("span",vs,"₹"+l(a.high.toFixed(2)),1)]),s("div",fs,[t[24]||(t[24]=s("span",{class:"detail-label"},"Low:",-1)),s("span",ys,"₹"+l(a.low.toFixed(2)),1)]),s("div",gs,[t[25]||(t[25]=s("span",{class:"detail-label"},"Volume:",-1)),s("span",Ss,l(i.formatVolume(a.volume)),1)])]),s("div",ps,[s("canvas",{ref_for:!0,ref:`chart-${a.symbol}`,class:"mini-chart"},null,512)])],2))),128))])):h("",!0)]),b(y)])}const ws=g(F,[["render",bs],["__scopeId","data-v-f843212c"]]);export{ws as default};
