import{_ as k,r as w,u as b,m as y,a as S,c as l,o,b as e,d as c,w as h,e as M,f as d,g as r,v as x,n,h as _,i as P,j as C,k as I,t as V,l as N}from"./app-bFpPY_8Q.js";import{_ as D}from"./logo-B8hkNGyH.js";import{l as L}from"./index-BqAUw4Z0.js";const A={class:"login-container"},T={class:"login-card"},B={class:"form-group"},U={class:"input-container"},$={class:"form-group"},q={class:"input-container"},E=["type"],R={class:"form-options"},J={class:"checkbox-container"},O={key:0,class:"error-message"},j=["disabled"],z={key:0},F={key:1,class:"loading-spinner"},W={__name:"Login",setup(G){const s=w({email:"",password:"",errorMessage:"",status:!1,showPassword:!1,loader:!1}),u=b(),f=y(),p=()=>{const t=localStorage.getItem("user_credentials");if(t){const a=JSON.parse(t);s.value.email=a.email,s.value.password=a.password}},m=localStorage.getItem("rememberMeStatus");s.value.status=m==="true",s.value.status&&p();const g=()=>{if(s.value.loader=!0,s.value.errorMessage="",localStorage.setItem("rememberMeStatus",s.value.status),!s.value.email||!s.value.password){s.value.errorMessage="Please fill in all required fields",s.value.loader=!1;return}N.post("/login",{email:s.value.email,password:s.value.password}).then(t=>{const a=t.data.access_token;if(localStorage.setItem("access_token",a),s.value.status){const v={email:s.value.email,password:s.value.password};localStorage.setItem("user_credentials",JSON.stringify(v))}L.success("Login successful! Redirecting...",{autoClose:2e3,position:"top-right"}),setTimeout(()=>{u.push("/admin/dashboard"),s.value.loader=!1},1500),f.emit("login")}).catch(t=>{s.value.loader=!1,t.response&&t.response.status===422?s.value.errorMessage="Please check your input and try again":t.response&&t.response.status===401?s.value.errorMessage=t.response.data.error||"Invalid email or password":s.value.errorMessage="Connection error. Please try again."})};return(t,a)=>{const v=S("router-link");return o(),l("div",A,[a[16]||(a[16]=e("div",{class:"login-background"},[e("div",{class:"background-pattern"})],-1)),e("div",T,[a[14]||(a[14]=c('<div class="login-header" data-v-413f9552><div class="logo-container" data-v-413f9552><div class="logo-image" data-v-413f9552><img src="'+D+'" alt="Macxgain Logo" data-v-413f9552></div><h1 class="logo-text" data-v-413f9552>Macxgain</h1><p class="tagline" data-v-413f9552>Smart Trading Solutions</p></div><h2 class="welcome-text" data-v-413f9552>Welcome Back</h2><p class="subtitle" data-v-413f9552>Sign in to your account to continue</p></div>',1)),e("form",{onSubmit:h(g,["prevent"]),class:"login-form"},[e("div",B,[a[5]||(a[5]=e("label",{for:"email",class:"form-label"},[e("i",{class:"fas fa-user"}),d(" Username ")],-1)),e("div",U,[r(e("input",{id:"email",type:"email","onUpdate:modelValue":a[0]||(a[0]=i=>s.value.email=i),required:"",placeholder:"Enter your email",class:n(["form-input",{error:s.value.errorMessage&&!s.value.email}])},null,2),[[x,s.value.email]]),a[4]||(a[4]=e("i",{class:"fas fa-user input-icon"},null,-1))])]),e("div",$,[a[7]||(a[7]=e("label",{for:"password",class:"form-label"},[e("i",{class:"fas fa-lock"}),d(" Password ")],-1)),e("div",q,[r(e("input",{id:"password",type:s.value.showPassword?"text":"password","onUpdate:modelValue":a[1]||(a[1]=i=>s.value.password=i),required:"",placeholder:"Enter your password",class:n(["form-input",{error:s.value.errorMessage&&!s.value.password}])},null,10,E),[[_,s.value.password]]),a[6]||(a[6]=e("i",{class:"fas fa-lock input-icon"},null,-1)),e("button",{type:"button",onClick:a[2]||(a[2]=i=>s.value.showPassword=!s.value.showPassword),class:n(["password-toggle",{active:s.value.showPassword}])},[e("i",{class:n(s.value.showPassword?"fas fa-eye-slash":"fas fa-eye")},null,2)],2)])]),e("div",R,[e("label",J,[r(e("input",{type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=i=>s.value.status=i),class:"checkbox-input"},null,512),[[C,s.value.status]]),a[8]||(a[8]=e("span",{class:"checkmark"},null,-1)),a[9]||(a[9]=d(" Remember me "))]),P(v,{to:"/forgot-password",class:"forgot-link"},{default:I(()=>a[10]||(a[10]=[d(" Forgot Password? ")])),_:1})]),s.value.errorMessage?(o(),l("div",O,[a[11]||(a[11]=e("i",{class:"fas fa-exclamation-circle"},null,-1)),d(" "+V(s.value.errorMessage),1)])):M("",!0),e("button",{type:"submit",class:"login-button",disabled:s.value.loader},[s.value.loader?(o(),l("span",F,a[13]||(a[13]=[e("i",{class:"fas fa-spinner fa-spin"},null,-1),d(" Signing In... ")]))):(o(),l("span",z,a[12]||(a[12]=[e("i",{class:"fas fa-sign-in-alt"},null,-1),d(" Sign In ")])))],8,j)],32),a[15]||(a[15]=e("div",{class:"login-footer"},[e("p",null,[d("Don't have an account? "),e("a",{href:"#",class:"signup-link"},"Contact Admin")])],-1))]),a[17]||(a[17]=c('<div class="trading-background" data-v-413f9552><div class="stock-chart chart-1" data-v-413f9552><div class="candlestick up" data-v-413f9552></div><div class="candlestick down" data-v-413f9552></div><div class="candlestick up" data-v-413f9552></div><div class="candlestick up" data-v-413f9552></div><div class="candlestick down" data-v-413f9552></div><div class="candlestick up" data-v-413f9552></div><div class="candlestick up" data-v-413f9552></div><div class="candlestick down" data-v-413f9552></div></div><div class="stock-chart chart-2" data-v-413f9552><div class="candlestick down" data-v-413f9552></div><div class="candlestick up" data-v-413f9552></div><div class="candlestick down" data-v-413f9552></div><div class="candlestick up" data-v-413f9552></div><div class="candlestick up" data-v-413f9552></div><div class="candlestick down" data-v-413f9552></div><div class="candlestick up" data-v-413f9552></div><div class="candlestick up" data-v-413f9552></div></div><div class="stock-chart chart-3" data-v-413f9552><div class="candlestick up" data-v-413f9552></div><div class="candlestick up" data-v-413f9552></div><div class="candlestick down" data-v-413f9552></div><div class="candlestick up" data-v-413f9552></div><div class="candlestick down" data-v-413f9552></div><div class="candlestick up" data-v-413f9552></div><div class="candlestick down" data-v-413f9552></div><div class="candlestick up" data-v-413f9552></div></div><div class="trading-indicators" data-v-413f9552><div class="indicator indicator-1" data-v-413f9552><div class="line" data-v-413f9552></div><div class="dot" data-v-413f9552></div></div><div class="indicator indicator-2" data-v-413f9552><div class="line" data-v-413f9552></div><div class="dot" data-v-413f9552></div></div><div class="indicator indicator-3" data-v-413f9552><div class="line" data-v-413f9552></div><div class="dot" data-v-413f9552></div></div></div><div class="price-tickers" data-v-413f9552><div class="ticker ticker-1" data-v-413f9552><span class="symbol" data-v-413f9552>AAPL</span><span class="price up" data-v-413f9552>$185.42</span><span class="change" data-v-413f9552>+2.34%</span></div><div class="ticker ticker-2" data-v-413f9552><span class="symbol" data-v-413f9552>TSLA</span><span class="price down" data-v-413f9552>$245.67</span><span class="change" data-v-413f9552>-1.23%</span></div><div class="ticker ticker-3" data-v-413f9552><span class="symbol" data-v-413f9552>NVDA</span><span class="price up" data-v-413f9552>$892.15</span><span class="change" data-v-413f9552>+3.45%</span></div></div><div class="floating-numbers" data-v-413f9552><div class="number" data-v-413f9552>+2.34%</div><div class="number" data-v-413f9552>-1.23%</div><div class="number" data-v-413f9552>+3.45%</div><div class="number" data-v-413f9552>+1.67%</div><div class="number" data-v-413f9552>-0.89%</div><div class="number" data-v-413f9552>+4.12%</div></div></div>',1))])}}},X=k(W,[["__scopeId","data-v-413f9552"]]);export{X as default};
