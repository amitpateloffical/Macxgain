/* empty css                   */import{_ as M,a as u,z as U,c as f,o as d,b as i,e as p,i as r,t as g,g as x,k as o,f as m,A as T,n as A,w as N,v as O,l as k,r as b,p as z}from"./app-B4B1Mz8a.js";import{C as F}from"./vue-select.es-CweVXps7.js";const j={components:{vSelect:F},data(){return{encodeBase64:e=>btoa(e.toString()),errors:{},showfilter:!1,fetchSystem:[],fields:[{key:"title",label:"Title",sortable:!0,formatter:e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():""},{key:"actions",label:"Actions"}],tickettypeData:{id:"",title:""},modalLoading:!1,editmodalLoading:!1,showticketType:!1,EdittickettypeId:!1,loading:!1,successMessage:"",StatusOption:[{label:"Active",value:"A"},{label:"Inactive",value:"I"}],totalrows:0}},mounted(){this.fetchEntries()},watch:{currentPage(t){this.fetchEntries()},perPage(t){this.currentPage=1,this.fetchEntries()}},computed:{sortIcon(){return this.sortDesc?"fas fa-sort-down":"fas fa-sort-up"},rangeStart(){return this.totalrows===0?0:(this.currentPage-1)*this.perPage+1},rangeEnd(){return this.currentPage*this.perPage>=this.totalrows?this.totalrows:this.currentPage*this.perPage}},setup(){const t=b({title:""}),e=b(1),_=b(10),c=[10,50,75,100],s=n=>{y.value[n]=" "},l=n=>n in y.value,h=n=>y.value[n][0],y=b([]),v=z(()=>{const n=refTeamListTable.value?refTeamListTable.value.localItems.length:0;return{from:_.value*(e.value-1)+(n?1:0),to:_.value*(e.value-1)+n,of:totalsystem.value}});return{search:t,RemoveError:s,hasErrors:l,getErrors:h,errors:y,currentPage:e,perPage:_,perPageOptions:c,dataMeta:v}},methods:{onSortChanged(t){this.sortBy=t.sortBy,this.sortDesc=t.sortDesc},changeSorting(t){this.sortBy===t?this.sortDesc=!this.sortDesc:(this.sortBy=t,this.sortDesc=!1),this.fetchEntries()},getSortIcon(t){return this.sortBy===t?this.sortDesc?"fas fa-sort-down":"fas fa-sort-up":"fas fa-sort"},resetFilter(){this.search={title:""},this.currentPage=1,this.fetchEntries(),this.showfilter=!1},searchFilter(){this.currentPage=1,this.fetchEntries(),this.showfilter=!1},fetchEntries(){this.modalLoading=!0,k.get("/ticket-type",{params:{title:this.search.title,page:this.currentPage,perPage:this.perPage,sortBy:this.sortBy,sortDesc:this.sortDesc}}).then(t=>{this.modalLoading=!1,this.fetchSystem=t.data.data.data,this.totalrows=t.data.data.total}).catch(t=>{this.modalLoading=!1})},openModal(){this.showticketType=!0,this.EdittickettypeId=!1,this.tickettypeData={id:"",title:""}},editticket(t){this.showticketType=!0,this.EdittickettypeId=!0,this.editmodalLoading=!0,k.get(`/ticket-type/${t}/edit`).then(e=>{this.tickettypeData=e.data.data,this.editmodalLoading=!1}).catch(e=>{this.editmodalLoading=!1,console.error(e)})},saveEntry(){if(this.loading=!0,this.EdittickettypeId){const t=this.encodeBase64(this.tickettypeData.id);k.put(`/ticket-type/${t}`,this.tickettypeData).then(()=>{this.showticketType=!1,this.fetchEntries(),this.loading=!1,this.successMessage="Ticket Type Updated Successfully!",this.clearSuccessMessage(),this.$router.push("/master/ticket-type")}).catch(e=>{this.loading=!1,e.response.data.code==422&&(this.errors=e.response.data.errors)})}else k.post("/ticket-type",this.tickettypeData).then(t=>{this.showticketType=!1,this.loading=!1,this.successMessage="Ticket Type saved successfully!",this.clearSuccessMessage(),this.$router.push("/master/ticket-type"),this.fetchEntries()}).catch(t=>{this.loading=!1,t.response.data.code==422&&(this.errors=t.response.data.errors)})},deleteticket(t){k.delete(`/ticket-type/${t}`).then(()=>{this.fetchEntries(),this.successMessage="Ticket Type Deleted Successfully!",this.clearSuccessMessage()}).catch(e=>{})},hasErrors(t){return t in this.errors},getErrors(t){return this.errors[t][0]},removeError(t){this.errors[t]=" "},clearSuccessMessage(){setTimeout(()=>{this.successMessage=""},2e3)},resetModal(){this.tickettypeData={id:"",title:""},this.showticketType=!1,this.errors=[]}}},R={class:"dashboard"},H={class:"list__page"},q={key:0,class:"alert alert-success"},G={class:"list__title"},J={key:1},K={class:"table-container"},Q={key:0},W={size:"sm",class:"shift2"},X={key:1,class:"d-flex justify-content-center align-items-center",style:{height:"100px"}},Y={class:"mx-2 mb-2"},Z={key:0,class:"d-flex align-items-center"},$={class:"d-flex align-items-center"},ee={class:"showing_pagination_result"},te={class:"d-flex justify-content-end"},se={key:0,class:"d-flex justify-content-center align-items-center",style:{height:"100px"}},ie={key:1},oe={class:"text-danger"},re={key:0,class:"text-danger"},le={class:"d-flex justify-content-end"},ae={key:0},ne={key:1};function de(t,e,_,c,s,l){const h=u("b-button"),y=u("b-form-input"),v=u("b-form-group"),n=u("b-col"),w=u("b-row"),S=u("b-card"),P=u("b-link"),C=u("b-table"),D=u("v-select"),I=u("b-pagination"),B=u("b-form"),L=u("b-modal"),V=U("ripple");return d(),f("div",R,[i("div",H,[s.successMessage?(d(),f("div",q,g(s.successMessage),1)):p("",!0),i("div",G,[e[11]||(e[11]=i("h4",null,"Ticket Type",-1)),r(h,{variant:"primary",disabled:s.loading,onClick:e[0]||(e[0]=a=>l.openModal())},{default:o(()=>e[9]||(e[9]=[m(" Add ")])),_:1},8,["disabled"]),x((d(),T(h,{variant:"primary",class:"mb-0 ml-md-1 basicButton shift3",onClick:e[1]||(e[1]=a=>s.showfilter=!s.showfilter)},{default:o(()=>e[10]||(e[10]=[m(" Filter ")])),_:1})),[[V,"rgba(113, 102, 240, 0.15)",void 0,{400:!0}]])]),s.showfilter?(d(),f("div",J,[r(S,{class:"filterBox mb-0"},{default:o(()=>[r(w,null,{default:o(()=>[r(n,{md:"5",xl:"3"},{default:o(()=>[r(v,{label:"Title","label-for":"Name"},{default:o(()=>[r(y,{modelValue:c.search.title,"onUpdate:modelValue":e[2]||(e[2]=a=>c.search.title=a),id:"basicInput",placeholder:"Enter Title"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),r(w,null,{default:o(()=>[r(n,{md:"2",xl:"2"},{default:o(()=>[r(h,{onClick:l.searchFilter,variant:"primary mt-1 w-100"},{default:o(()=>e[12]||(e[12]=[m(" Search ")])),_:1},8,["onClick"])]),_:1}),r(n,{md:"2",xl:"2"},{default:o(()=>[r(h,{onClick:l.resetFilter,variant:"primary mt-1 w-100"},{default:o(()=>e[13]||(e[13]=[m(" Reset ")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})])):p("",!0),i("div",K,[s.modalLoading?p("",!0):(d(),f("div",Q,[r(C,{responsive:"",stacked:"sm",ref:"refTeamListTable",items:s.fetchSystem,fields:s.fields,onSortChanged:l.onSortChanged,class:"mb-2 staticTable","empty-text":"No matching records found"},{"head(title)":o(a=>[i("span",{onClick:e[3]||(e[3]=E=>l.changeSorting("title"))},[e[14]||(e[14]=m(" Title ")),i("i",{class:A(l.getSortIcon("title"))},null,2)])]),"cell(actions)":o(a=>[r(h,{size:"sm",onClick:E=>l.editticket(s.encodeBase64(a.item.id))},{default:o(()=>e[15]||(e[15]=[i("i",{class:"fa fa-pencil","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"]),e[18]||(e[18]=m(" Â  ")),r(h,{size:"sm",variant:"danger",onClick:E=>l.deleteticket(s.encodeBase64(a.item.id))},{default:o(()=>e[16]||(e[16]=[i("i",{class:"fa fa-trash","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"]),i("button",W,[r(P,{to:{name:"ViewTicketType",params:{id:s.encodeBase64(a.item.id)}},title:"View"},{default:o(()=>e[17]||(e[17]=[i("i",{class:"fas fa-eye"},null,-1)])),_:2},1032,["to"])])]),_:1},8,["items","fields","onSortChanged"])])),s.modalLoading?(d(),f("div",X,e[19]||(e[19]=[i("i",{class:"fas fa-spinner fa-spin fa-3x"},null,-1)]))):p("",!0),i("div",Y,[r(w,{class:"align-items-center"},{default:o(()=>[r(n,{cols:"12",md:"4"},{default:o(()=>[s.modalLoading?p("",!0):(d(),f("div",Z,[e[20]||(e[20]=i("span",{class:"mr-2 showing_pagination_result"},"Show",-1)),r(D,{modelValue:c.perPage,"onUpdate:modelValue":e[4]||(e[4]=a=>c.perPage=a),options:c.perPageOptions,clearable:!1,class:"mr-2"},null,8,["modelValue","options"]),e[21]||(e[21]=i("span",{class:"showing_pagination_result"},"entries",-1))]))]),_:1}),s.modalLoading?p("",!0):(d(),T(n,{key:0,cols:"12",md:"4"},{default:o(()=>[i("div",$,[i("span",ee,"Showing "+g(l.rangeStart)+" to "+g(l.rangeEnd)+" of "+g(s.totalrows)+" entries",1)])]),_:1})),r(n,{cols:"12",md:"4"},{default:o(()=>[i("div",te,[s.totalrows>0&&!s.modalLoading?(d(),T(I,{key:0,modelValue:c.currentPage,"onUpdate:modelValue":e[5]||(e[5]=a=>c.currentPage=a),"total-rows":s.totalrows,"per-page":c.perPage,onInput:l.fetchEntries,pills:"","first-number":"","last-number":"","prev-class":"prev-item","next-class":"next-item"},{"prev-text":o(()=>e[22]||(e[22]=[i("i",{class:"fa-solid fa-angles-left"},null,-1)])),"next-text":o(()=>e[23]||(e[23]=[i("i",{class:"fa-solid fa-angles-right"},null,-1)])),_:1},8,["modelValue","total-rows","per-page","onInput"])):p("",!0)])]),_:1})]),_:1})])]),r(L,{modelValue:s.showticketType,"onUpdate:modelValue":e[8]||(e[8]=a=>s.showticketType=a),onOk:t.handleOk,onHide:l.resetModal,centered:"","cancel-variant":"outline-secondary",title:s.EdittickettypeId?"Update Ticket Type":"Add Ticket Type","ok-title":s.EdittickettypeId?"Update":"Add","hide-footer":""},{default:o(()=>[s.editmodalLoading&&s.EdittickettypeId?(d(),f("div",se,e[24]||(e[24]=[i("i",{class:"fas fa-spinner fa-spin fa-3x"},null,-1)]))):p("",!0),s.editmodalLoading?p("",!0):(d(),f("div",ie,[r(B,{onSubmit:N(l.saveEntry,["prevent"])},{default:o(()=>[e[26]||(e[26]=i("label",{class:"form-label"},[m(" Title "),i("span",{style:{color:"red"}}," *")],-1)),r(v,{"label-for":"title"},{default:o(()=>[x(i("input",{type:"text",id:"title","onUpdate:modelValue":e[6]||(e[6]=a=>s.tickettypeData.title=a),required:"",class:"form-control",onInput:e[7]||(e[7]=a=>c.RemoveError("title")),placeholder:"Enter Ticket Type"},null,544),[[O,s.tickettypeData.title]]),i("small",oe,g(c.errors[0]),1),l.hasErrors("title")?(d(),f("div",re,g(l.getErrors("title")),1)):p("",!0)]),_:1}),i("div",le,[r(h,{variant:"primary",disabled:s.loading,onClick:l.saveEntry},{default:o(()=>[s.loading?(d(),f("span",ae,e[25]||(e[25]=[i("i",{class:"fas fa-spinner fa-spin"},null,-1),m(" Processing... ")]))):(d(),f("span",ne,g(s.EdittickettypeId?"Update":"Add"),1))]),_:1},8,["disabled","onClick"])])]),_:1},8,["onSubmit"])]))]),_:1},8,["modelValue","onOk","onHide","title","ok-title"])])])}const pe=M(j,[["render",de],["__scopeId","data-v-e9e6d5c3"]]);export{pe as default};
