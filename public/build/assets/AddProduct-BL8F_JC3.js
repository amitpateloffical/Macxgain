import{_ as S,a as f,c as u,o as i,b as a,i as l,A as D,e as c,f as y,k as d,F as E,p as k,n as w,t as n,l as C}from"./app-W3Nmn5mk.js";import{C as R}from"./vue-select.es-BWK27iyf.js";import{l as W}from"./index-L98AjnlU.js";import"./index.esm-xzvIXNkb.js";const A={components:{vSelect:R},data(){return{sizeOptions:[{text:"1 Mtr",value:"1 Mtr"},{text:"1.75 Mtr",value:"1.75 Mtr"},{text:"2 Mtr",value:"2 Mtr"},{text:"2.5 Mtr",value:"2.5 Mtr"},{text:"3 Mtr",value:"3 Mtr"},{text:"4 Mtr",value:"4 Mtr"},{text:"5 Mtr",value:"5 Mtr"},{text:"6 Mtr",value:"6 Mtr"}],tableData:[],tableFields:[{key:"Size",label:"Size"},{key:"listing_price",label:"Listing Price*"},{key:"WrongDefectiveReturnsPrice",label:"Wrong/Defective Returns Price"},{key:"MRP",label:"MRP*"},{key:"Actions",label:"Actions"}],categories:[],selectedCategoryId:null,selectedSubcategoryId:null,product:{category:null,sub_category:null,uploadedImages:[],size:[],product_id:null,tableData:[]},uploadedImages:[],warrantyPeriodOptions:["1 Month","6 Months","1 Year","2 Years"],warrantyTypeOptions:["Not Applicable","Manufacturer Warranty","Seller Warranty"],countryOptions:["India","USA","China","Other"],brandOptions:["Brand A","Brand B","Brand C"],errors:[]}},computed:{selectedCategory(){return this.categories.find(s=>s.id===this.product.category)||null}},mounted(){this.fetchCategories()},methods:{numberValidate(s){const e=s.charCode;e!==8&&e!==0&&(e<48||e>57)&&s.preventDefault()},generateId(){const s=`P-${Math.floor(1e4+Math.random()*9e4)}`;this.product.product_id=s},updateTableRows(){this.product.size.forEach(s=>{this.product.tableData.some(e=>e.size===s)||this.product.tableData.push({size:s,listing_price:"",wrongDefectiveReturnsPrice:"",mrp:""})}),this.product.tableData=this.product.tableData.filter(s=>this.product.size.includes(s.size))},deleteRow(s){this.product.tableData=this.product.tableData.filter(e=>e!==s),this.product.size=this.product.size.filter(e=>e!==s.size)},handleFileUpload(s){const e=Array.from(s.target.files),_=10-this.product.uploadedImages.length;e.length>_&&alert(`You can only add ${_} more image(s).`),e.slice(0,_).forEach(x=>{const t=new FileReader;t.onload=o=>{this.product.uploadedImages.push(o.target.result)},t.readAsDataURL(x)})},removeImage(s){this.product.uploadedImages.splice(s,1)},fetchCategories(){C.get("/getCategoryOption").then(s=>{this.categories=s.data.data})},selectCategory(s){this.selectedCategoryId=s.id,this.product.category=s.id,this.selectedSubcategoryId=null,this.product.sub_category=null,this.product.uploadedImages=[]},selectSubcategory(s){this.selectedSubcategoryId=s.id,this.product.sub_category=s.id,this.product.uploadedImages=[]},fromSubmit(){C.post("/products",this.product).then(s=>{s.data.status=="success"&&(W("Product Added Successful!",{autoClose:3e3,type:"success"}),this.$router.push({name:"product"}))}).catch(s=>{s.response.data.code==422&&(this.errors=s.response.data.errors)})},removeError(s){this.errors[s]&&delete this.errors[s]},hasErrors(s){return this.errors&&this.errors[s]},getErrors(s){return this.errors[s]?this.errors[s][0]:""}}},O={class:"dashboard"},N={class:"page__breadcrumb"},T={class:"list-container"},B={class:"list-group",style:{"max-height":"400px","overflow-y":"auto"}},K=["onClick"],F={class:"list-container"},Q={class:"list-group",style:{"max-height":"400px","overflow-y":"auto"}},Y=["onClick"],L={class:"file-upload-container"},G=["onClick"],j=["src"],H={key:0,class:"custom-file-input"},J={key:1,class:"warning-message"},X={class:"text-danger"},Z={key:0,class:"text-danger"},$={class:"text-danger"},ee={key:0,class:"text-danger"},re={class:"text-danger"},te={key:0,class:"text-danger"},le={class:"text-danger"},oe={key:0,class:"text-danger"},se={class:"table_listing"},de={class:"text-danger"},ae={key:0,class:"text-danger"},ne={class:"text-danger"},ie={key:0,class:"text-danger"},ue={class:"text-danger"},pe={key:0,class:"text-danger"},me={class:"text-danger"},ce={key:0,class:"text-danger"},ge={class:"text-danger"},fe={key:0,class:"text-danger"},be={class:"text-danger"},ye={key:0,class:"text-danger"},_e={class:"text-danger"},ve={key:0,class:"text-danger"},Ve={class:"sidebarbtn_group"};function he(s,e,_,x,t,o){const P=f("b-link"),m=f("b-col"),h=f("b-row"),b=f("b-form-input"),g=f("b-form-group"),v=f("b-button"),M=f("b-input-group-append"),U=f("b-input-group"),V=f("b-form-select"),z=f("b-table"),I=f("b-form-textarea");return i(),u("div",O,[a("div",N,[a("p",null,[l(P,{to:{name:"admin-product"}},{default:d(()=>e[27]||(e[27]=[y(" Product "),a("i",{class:"fas fa-chevron-right"},null,-1)])),_:1}),e[28]||(e[28]=y(" Add Product "))])]),l(h,null,{default:d(()=>[l(m,{md:"2"},{default:d(()=>[a("div",T,[a("div",B,[(i(!0),u(E,null,k(t.categories,r=>(i(),u("button",{key:r.id,onClick:p=>o.selectCategory(r),class:w(["list-group-item list-group-item-action",{active:r.id===t.selectedCategoryId}])},n(r.name),11,K))),128))])])]),_:1}),l(m,{md:"2"},{default:d(()=>{var r;return[a("div",F,[a("div",Q,[(i(!0),u(E,null,k(((r=t.categories.find(p=>p.id===t.selectedCategoryId))==null?void 0:r.subcategories)||[],p=>(i(),u("button",{key:p.id,onClick:q=>o.selectSubcategory(p),class:w(["list-group-item list-group-item-action",{active:p.id===t.selectedSubcategoryId}])},n(p.name),11,Y))),128))])])]}),_:1}),t.product.sub_category!=null?(i(),D(m,{key:0,md:"7",style:{border:"1px solid #000","max-height":"400px",overflow:"auto"}},{default:d(()=>[a("div",L,[(i(!0),u(E,null,k(t.product.uploadedImages,(r,p)=>(i(),u("div",{key:p,class:"uploaded-image-container"},[a("button",{class:"close-icon",onClick:q=>o.removeImage(p)},"Ã—",8,G),a("img",{src:r,alt:"Uploaded",class:"uploaded-image"},null,8,j)]))),128)),t.product.uploadedImages.length<10?(i(),u("label",H,[e[29]||(e[29]=a("div",{class:"file-input-box"},[a("div",{class:"icon"},"+"),a("div",{class:"text"},"Add Front Images")],-1)),a("input",{type:"file",accept:"image/*",hidden:"",onChange:e[0]||(e[0]=(...r)=>o.handleFileUpload&&o.handleFileUpload(...r)),multiple:""},null,32)])):c("",!0),t.product.uploadedImages.length>=10?(i(),u("p",J," You can upload a maximum of 10 images. ")):c("",!0)])]),_:1})):c("",!0)]),_:1}),t.product.uploadedImages!=0?(i(),D(h,{key:0,style:{"margin-top":"100px",overflow:"auto"}},{default:d(()=>[l(m,{md:"3"},{default:d(()=>[e[30]||(e[30]=a("label",{class:"form-label required"},"Net Weight (gms) ",-1)),l(g,{"label-for":"net-weight"},{default:d(()=>[l(b,{id:"net-weight",modelValue:t.product.netWeight,"onUpdate:modelValue":e[1]||(e[1]=r=>t.product.netWeight=r),onKeypress:o.numberValidate,placeholder:"Enter Net Weight (gms)",onInput:e[2]||(e[2]=r=>o.removeError("netWeight"))},null,8,["modelValue","onKeypress"]),a("small",X,n(t.errors[0]),1),o.hasErrors("netWeight")?(i(),u("div",Z,n(o.getErrors("netWeight")),1)):c("",!0)]),_:1})]),_:1}),l(m,{md:"3"},{default:d(()=>[e[31]||(e[31]=a("label",{class:"form-label required"}," Product Name ",-1)),l(g,{"label-for":"product-name",required:""},{default:d(()=>[l(b,{id:"product-name",modelValue:t.product.name,"onUpdate:modelValue":e[3]||(e[3]=r=>t.product.name=r),placeholder:"Enter Product Name",onInput:e[4]||(e[4]=r=>o.removeError("name"))},null,8,["modelValue"]),a("small",$,n(t.errors[0]),1),o.hasErrors("name")?(i(),u("div",ee,n(o.getErrors("name")),1)):c("",!0)]),_:1})]),_:1}),l(m,{md:"3"},{default:d(()=>[e[33]||(e[33]=a("label",{class:"form-label required"}," Style Code/Product ID (Optional) ",-1)),l(g,{"label-for":"product-id",description:"Click Generate to create a random ID."},{default:d(()=>[l(U,null,{default:d(()=>[l(b,{id:"product-id",modelValue:t.product.product_id,"onUpdate:modelValue":e[5]||(e[5]=r=>t.product.product_id=r),placeholder:"Enter Style Code/Product ID",readonly:"",onInput:e[6]||(e[6]=r=>o.removeError("product_id"))},null,8,["modelValue"]),l(M,null,{default:d(()=>[l(v,{variant:"danger",onClick:e[7]||(e[7]=r=>{o.generateId(),o.removeError("product_id")})},{default:d(()=>e[32]||(e[32]=[y("Generate")])),_:1})]),_:1})]),_:1}),a("small",re,n(t.errors[0]),1),o.hasErrors("product_id")?(i(),u("div",te,n(o.getErrors("product_id")),1)):c("",!0)]),_:1})]),_:1}),l(m,{md:"3"},{default:d(()=>[e[34]||(e[34]=a("label",{class:"form-label required"}," Size",-1)),l(g,{"label-for":"product-size",required:""},{default:d(()=>[y(n(t.product.size)+" ",1),l(V,{sm:"",id:"product-size",modelValue:t.product.size,"onUpdate:modelValue":e[8]||(e[8]=r=>t.product.size=r),options:t.sizeOptions,multiple:"",onInput:e[9]||(e[9]=r=>{o.updateTableRows(),o.removeError("size")})},null,8,["modelValue","options"]),a("small",le,n(t.errors[0]),1),o.hasErrors("size")?(i(),u("div",oe,n(o.getErrors("size")),1)):c("",!0)]),_:1})]),_:1}),a("div",se,[l(z,{items:t.product.tableData,fields:t.tableFields,bordered:""},{"cell(Size)":d(r=>[y(n(r.item.size),1)]),"cell(listing_price)":d(r=>[l(b,{modelValue:r.item.listing_price,"onUpdate:modelValue":p=>r.item.listing_price=p,placeholder:"Enter Meesho price",onKeypress:o.numberValidate},null,8,["modelValue","onUpdate:modelValue","onKeypress"])]),"cell(WrongDefectiveReturnsPrice)":d(r=>[l(b,{modelValue:r.item.wrongDefectiveReturnsPrice,"onUpdate:modelValue":p=>r.item.wrongDefectiveReturnsPrice=p,placeholder:"Enter wrong/defective returns price",onKeypress:o.numberValidate},null,8,["modelValue","onUpdate:modelValue","onKeypress"])]),"cell(MRP)":d(r=>[l(b,{modelValue:r.item.mrp,"onUpdate:modelValue":p=>r.item.mrp=p,placeholder:"Enter MRP",onKeypress:o.numberValidate},null,8,["modelValue","onUpdate:modelValue","onKeypress"])]),"cell(Actions)":d(r=>[l(v,{variant:"danger",onClick:p=>o.deleteRow(r.item)},{default:d(()=>e[35]||(e[35]=[y("Delete")])),_:2},1032,["onClick"])]),_:1},8,["items","fields"])]),l(m,{md:"3"},{default:d(()=>[e[36]||(e[36]=a("label",{class:"form-label required"}," Net Quantity (N)",-1)),l(g,{"label-for":"net-quantity",required:""},{default:d(()=>[l(b,{id:"net-quantity",modelValue:t.product.netQuantity,"onUpdate:modelValue":e[10]||(e[10]=r=>t.product.netQuantity=r),onKeypress:o.numberValidate,placeholder:"Enter Net Quantity",onInput:e[11]||(e[11]=r=>o.removeError("netQuantity"))},null,8,["modelValue","onKeypress"]),a("small",de,n(t.errors[0]),1),o.hasErrors("netQuantity")?(i(),u("div",ae,n(o.getErrors("netQuantity")),1)):c("",!0)]),_:1})]),_:1}),l(m,{md:"3"},{default:d(()=>[e[37]||(e[37]=a("label",{class:"form-label required"}," Warranty Period",-1)),l(g,{"label-for":"warranty-period",required:""},{default:d(()=>[l(V,{id:"warranty-period",modelValue:t.product.warrantyPeriod,"onUpdate:modelValue":e[12]||(e[12]=r=>t.product.warrantyPeriod=r),options:t.warrantyPeriodOptions,onInput:e[13]||(e[13]=r=>o.removeError("warrantyPeriod"))},null,8,["modelValue","options"]),a("small",ne,n(t.errors[0]),1),o.hasErrors("warrantyPeriod")?(i(),u("div",ie,n(o.getErrors("warrantyPeriod")),1)):c("",!0)]),_:1})]),_:1}),l(m,{md:"3"},{default:d(()=>[e[38]||(e[38]=a("label",{class:"form-label required"}," Warranty Type",-1)),l(g,{"label-for":"warranty-type",required:""},{default:d(()=>[l(V,{id:"warranty-type",modelValue:t.product.warrantyType,"onUpdate:modelValue":e[14]||(e[14]=r=>t.product.warrantyType=r),options:t.warrantyTypeOptions,onInput:e[15]||(e[15]=r=>o.removeError("warrantyType"))},null,8,["modelValue","options"]),a("small",ue,n(t.errors[0]),1),o.hasErrors("warrantyType")?(i(),u("div",pe,n(o.getErrors("warrantyType")),1)):c("",!0)]),_:1})]),_:1}),l(m,{md:"3"},{default:d(()=>[e[39]||(e[39]=a("label",{class:"form-label required"}," Manufacturer Details",-1)),l(g,{"label-for":"manufacturer-details",required:""},{default:d(()=>[l(b,{id:"manufacturer-details",modelValue:t.product.manufacturerDetails,"onUpdate:modelValue":e[16]||(e[16]=r=>t.product.manufacturerDetails=r),placeholder:"Enter Manufacturer Details",onInput:e[17]||(e[17]=r=>o.removeError("manufacturerDetails"))},null,8,["modelValue"]),a("small",me,n(t.errors[0]),1),o.hasErrors("manufacturerDetails")?(i(),u("div",ce,n(o.getErrors("manufacturerDetails")),1)):c("",!0)]),_:1})]),_:1}),l(m,{md:"3"},{default:d(()=>[e[40]||(e[40]=a("label",{class:"form-label required"}," Packer Details",-1)),l(g,{"label-for":"packer-details",required:""},{default:d(()=>[l(b,{id:"packer-details",modelValue:t.product.packerDetails,"onUpdate:modelValue":e[18]||(e[18]=r=>t.product.packerDetails=r),placeholder:"Enter Packer Details",onInput:e[19]||(e[19]=r=>o.removeError("packerDetails"))},null,8,["modelValue"]),a("small",ge,n(t.errors[0]),1),o.hasErrors("packerDetails")?(i(),u("div",fe,n(o.getErrors("packerDetails")),1)):c("",!0)]),_:1})]),_:1}),l(m,{md:"3"},{default:d(()=>[e[41]||(e[41]=a("label",{class:"form-label required"}," Brand",-1)),l(g,{"label-for":"brand",required:""},{default:d(()=>[l(V,{id:"brand",modelValue:t.product.brand,"onUpdate:modelValue":e[20]||(e[20]=r=>t.product.brand=r),options:t.brandOptions,placeholder:"Select Brand",onInput:e[21]||(e[21]=r=>o.removeError("brand"))},null,8,["modelValue","options"]),a("small",be,n(t.errors[0]),1),o.hasErrors("brand")?(i(),u("div",ye,n(o.getErrors("brand")),1)):c("",!0)]),_:1})]),_:1}),l(h,null,{default:d(()=>[l(m,{md:"6"},{default:d(()=>[e[42]||(e[42]=a("label",{class:"form-label required"}," Description",-1)),l(g,{"label-for":"description"},{default:d(()=>[l(I,{id:"description",modelValue:t.product.description,"onUpdate:modelValue":e[22]||(e[22]=r=>t.product.description=r),placeholder:"Enter Description",rows:"3",onInput:e[23]||(e[23]=r=>o.removeError("description"))},null,8,["modelValue"]),a("small",_e,n(t.errors[0]),1),o.hasErrors("description")?(i(),u("div",ve,n(o.getErrors("description")),1)):c("",!0)]),_:1})]),_:1}),l(m,{md:"6"},{default:d(()=>[e[43]||(e[43]=a("label",{class:"form-label required"}," Importer Details",-1)),l(g,{"label-for":"importer-details"},{default:d(()=>[l(I,{id:"importer-details",modelValue:t.product.importerDetails,"onUpdate:modelValue":e[24]||(e[24]=r=>t.product.importerDetails=r),placeholder:"Enter Importer Details",rows:"3"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a("div",Ve,[l(v,{class:"btn_secondary_border me-2",onClick:e[25]||(e[25]=r=>s.sidebarstatus.filter=!s.sidebarstatus.filter)},{default:d(()=>e[44]||(e[44]=[y("Cancel")])),_:1}),l(v,{onClick:e[26]||(e[26]=r=>o.fromSubmit()),class:"btn_primary"},{default:d(()=>e[45]||(e[45]=[y("Submit")])),_:1})])]),_:1})):c("",!0)])}const De=S(A,[["render",he],["__scopeId","data-v-7ce2ac5b"]]);export{De as default};
